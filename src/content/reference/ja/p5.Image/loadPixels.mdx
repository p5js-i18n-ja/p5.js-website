---
title: loadPixels
module: Image
submodule: Image
file: src/image/p5.Image.js
description: |
  <p>画像のピクセルデータを読み込みます。
  この関数は、<a href="#/p5.Image/pixels">pixels</a>
  配列を使用する前に呼び出す必要があります。デフォルトでは、この関数は
  画像全体のピクセルを読み込みます。オプションのパラメータを使用して、
  画像の特定の領域のピクセルを読み込むことができます。</p>

  <p>画像のピクセルを変更した後は、<a href="#/p5.Image/updatePixels">updatePixels()</a>
  を呼び出して変更を適用する必要があります。</p>
line: 1037
params:
  - name: x
    description: |
      <p>読み込む領域の左上隅のx座標。</p>
    type: Number
    optional: true
  - name: y
    description: |
      <p>読み込む領域の左上隅のy座標。</p>
    type: Number
    optional: true
  - name: w
    description: |
      <p>読み込む領域の幅。</p>
    type: Number
    optional: true
  - name: h
    description: |
      <p>読み込む領域の高さ。</p>
    type: Number
    optional: true
itemtype: method
example:
  - |-

    <div>
    <code>
    let img;

    // 画像を読み込みます。
    function preload() {
      img = loadImage('/assets/rockies.jpg');
    }

    function setup() {
      createCanvas(100, 100);

      // 画像を表示します。
      image(img, 0, 0, width, height);

      // ピクセルデータを読み込みます。
      img.loadPixels();

      // 画像の中央にある10x10ピクセルの正方形を赤色に変更します。
      let x = img.width / 2 - 5;
      let y = img.height / 2 - 5;
      for (let i = y; i < y + 10; i += 1) {
        for (let j = x; j < x + 10; j += 1) {
          let index = 4 * (i * img.width + j);
          img.pixels[index] = 255;
          img.pixels[index + 1] = 0;
          img.pixels[index + 2] = 0;
          img.pixels[index + 3] = 255;
        }
      }

      // ピクセルの変更を適用します。
      img.updatePixels();

      // 更新された画像を表示します。
      image(img, 0, 0, width, height);

      describe('山の風景の画像。中央に小さな赤い正方形があります。');
    }
    </code>
    </div>
class: p5.Image
return:
  description: ''
  type: p5.Image
chainable: true
---

# loadPixels