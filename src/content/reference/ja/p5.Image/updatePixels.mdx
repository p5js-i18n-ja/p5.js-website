---
title: updatePixels
module: Image
submodule: Image
file: src/image/p5.Image.js
description: >
  <p><a href="/reference/p5.Image/pixels/">img.pixels</a>配列のRGBA値でキャンバスを更新します。</p>

  <p><code>img.updatePixels()</code>は、<a href="/reference/p5.Image/pixels/">img.pixels</a>配列の値を変更した後にのみ呼び出す必要があります。このような変更は、<a href="/reference/p5.Image/loadPixels/">img.loadPixels()</a>を呼び出した直後、または<a href="/reference/p5.Image/set/">img.set()</a>を呼び出すことで行うことができます。</p>

  <p>オプションのパラメータ<code>x</code>、<code>y</code>、<code>width</code>、<code>height</code>は、更新する画像のサブセクションを定義します。これを行うことで、場合によってはパフォーマンスが向上する可能性があります。</p>

  <p>画像がGIFからロードされた場合、<code>img.updatePixels()</code>を呼び出すと、現在のフレームのピクセルが更新されます。</p>
line: 462
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      background(200);

      // p5.Imageオブジェクトを作成します。
      let img = createImage(66, 66);

      // 画像のピクセルをロードします。
      img.loadPixels();

      // ピクセルを黒に設定します。
      for (let x = 0; x < img.width; x += 1) {
        for (let y = 0; y < img.height; y += 1) {
          img.set(x, y, 0);
        }
      }

      // 画像を更新します。
      img.updatePixels();

      // 画像を表示します。
      image(img, 17, 17);

      describe('灰色の正方形の中央に描かれた黒い正方形。');
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      background(200);

      // p5.Imageオブジェクトを作成します。
      let img = createImage(66, 66);

      // 画像のピクセルをロードします。
      img.loadPixels();

      // ピクセルを黒に設定します。
      for (let i = 0; i < img.pixels.length; i += 4) {
        // 赤。
        img.pixels[i] = 0;
        // 緑。
        img.pixels[i + 1] = 0;
        // 青。
        img.pixels[i + 2] = 0;
        // アルファ。
        img.pixels[i + 3] = 255;
      }

      // 画像を更新します。
      img.updatePixels();

      // 画像を表示します。
      image(img, 17, 17);

      describe('灰色の正方形の中央に描かれた黒い正方形。');
    }
    </code>
    </div>
class: p5.Image
overloads:
  - line: 462
    params:
      - name: x
        description: |
          <p>更新するサブセクションの左上隅のx座標。</p>
        type: Integer
      - name: 'y'
        description: |
          <p>更新するサブセクションの左上隅のy座標。</p>
        type: Integer
      - name: w
        description: |
          <p>更新するサブセクションの幅。</p>
        type: Integer
      - name: h
        description: |
          <p>更新するサブセクションの高さ。</p>
        type: Integer
  - line: 555
    params: []
chainable: false
---


# updatePixels