---
title: perspective
module: 3D
submodule: Camera
file: src/webgl/p5.Camera.js
description: >
  <p>カメラにパースペクティブ投影を設定します。</p>

  <p>パースペクティブ投影では、カメラから遠い形状は近い形状よりも小さく見えます。

  この技術は遠近法と呼ばれ、リアルな3Dシーンを作成します。これはデフォルトで新しい

  <code>p5.Camera</code>オブジェクトに適用されます。</p>

  <p><code>myCamera.perspective()</code>は、カメラの視錐台を変更することで

  カメラのパースペクティブを変更します。視錐台はカメラから見える空間の体積です。

  視錐台の形状は、上部が切り取られたピラミッドです。カメラは

  ピラミッドの上部があるべき場所に配置され、ピラミッドの底面に向けて

  向けられます。視錐台内のすべてが見えます。</p>

  <p>最初のパラメータ<code>fovy</code>は、カメラの垂直視野角です。

  これは、カメラがどれだけ高く、または狭く見えるかを表す角度です。

  例えば、<code>myCamera.perspective(0.5)</code>を呼び出すと、カメラの垂直

  視野角を0.5ラジアンに設定します。デフォルトでは、<code>fovy</code>はスケッチの

  高さとカメラのデフォルトのz座標（800）に基づいて計算されます。

  デフォルトの<code>fovy</code>の計算式は<code>2 * atan(height / 2 / 800)</code>です。</p>

  <p>2番目のパラメータ<code>aspect</code>は、カメラのアスペクト比です。

  これは上面の幅と高さの比率を表す数値です。

  例えば、<code>myCamera.perspective(0.5, 1.5)</code>を呼び出すと、カメラの

  視野角を0.5ラジアン、アスペクト比を1.5に設定し、正方形のキャンバスで

  形状がより細く見えるようになります。デフォルトでは、<code>aspect</code>は

  <code>width / height</code>に設定されます。</p>

  <p>3番目のパラメータ<code>near</code>は、カメラからニアクリッピング面までの

  距離です。例えば、<code>myCamera.perspective(0.5, 1.5, 100)</code>を呼び出すと、

  カメラの視野角を0.5ラジアン、アスペクト比を1.5に設定し、

  ニアクリッピング面をカメラから100ピクセルの位置に配置します。カメラから

  100ピクセル未満の距離に描画された形状は表示されません。デフォルトでは、<code>near</code>は

  <code>0.1 * 800</code>に設定されており、これはカメラと原点の間のデフォルト距離の

  1/10です。</p>

  <p>4番目のパラメータ<code>far</code>は、カメラからファークリッピング面までの

  距離です。例えば、<code>myCamera.perspective(0.5, 1.5, 100, 10000)</code>

  を呼び出すと、カメラの視野角を0.5ラジアン、アスペクト比を1.5に設定し、

  ニアクリッピング面をカメラから100ピクセルの位置に、ファークリッピング面を

  カメラから10,000ピクセルの位置に配置します。カメラから10,000ピクセル以上

  離れた場所に描画された形状は表示されません。デフォルトでは、<code>far</code>は<code>10 * 800</code>に

  設定されており、これはカメラと原点の間のデフォルト距離の10倍です。</p>
line: 1862
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    // ダブルクリックでカメラを切り替えます。

    let cam1;
    let cam2;
    let isDefaultCamera = true;

    function setup() {
      createCanvas(100, 100, WEBGL);

      // 最初のカメラを作成します。
      // デフォルト設定のままにします。
      cam1 = createCamera();

      // 2番目のカメラを作成します。
      cam2 = createCamera();

      // 右上に配置します。
      cam2.camera(400, -400, 800);

      // fovyを0.2に設定します。
      // アスペクト比を1.5に設定します。
      // nearを600に設定します。
      // farを1200に設定します。
      cam2.perspective(0.2, 1.5, 600, 1200);

      // 現在のカメラをcam1に設定します。
      setCamera(cam1);

      describe('灰色の背景に白い立方体。ユーザーがダブルクリックすると、カメラが正面図と斜め上からの図の間で切り替わります。');
    }

    function draw() {
      background(200);

      // 箱を描画します。
      box();
    }

    // ユーザーがダブルクリックしたときに現在のカメラを切り替えます。
    function doubleClicked() {
      if (isDefaultCamera === true) {
        setCamera(cam2);
        isDefaultCamera = false;
      } else {
        setCamera(cam1);
        isDefaultCamera = true;
      }
    }
    </code>
    </div>

    <div>
    <code>
    // ダブルクリックでカメラを切り替えます。

    let cam1;
    let cam2;
    let isDefaultCamera = true;

    function setup() {
      createCanvas(100, 100, WEBGL);

      // 最初のカメラを作成します。
      // デフォルト設定のままにします。
      cam1 = createCamera();

      // 2番目のカメラを作成します。
      cam2 = createCamera();

      // 右上に配置します。
      cam2.camera(400, -400, 800);

      // fovyを0.2に設定します。
      // アスペクト比を1.5に設定します。
      // nearを600に設定します。
      // farを1200に設定します。
      cam2.perspective(0.2, 1.5, 600, 1200);

      // 現在のカメラをcam1に設定します。
      setCamera(cam1);

      describe('灰色の背景で白い立方体が左右に動きます。ユーザーがダブルクリックすると、カメラが正面図と斜め上からの図の間で切り替わります。');
    }

    function draw() {
      background(200);

      // 原点を左右に移動させます。
      let x = 100 * sin(frameCount * 0.01);
      translate(x, 0, 0);

      // 箱を描画します。
      box();
    }

    // ユーザーがダブルクリックしたときに現在のカメラを切り替えます。
    function doubleClicked() {
      if (isDefaultCamera === true) {
        setCamera(cam2);
        isDefaultCamera = false;
      } else {
        setCamera(cam1);
        isDefaultCamera = true;
      }
    }
    </code>
    </div>
class: p5.Camera
params:
  - name: fovy
    description: |
      <p>カメラの視錐台の垂直視野角。デフォルトは
                                <code>2 * atan(height / 2 / 800)</code>です。</p>
    type: Number
    optional: true
  - name: aspect
    description: |
      <p>カメラの視錐台のアスペクト比。デフォルトは
                                <code>width / height</code>です。</p>
    type: Number
    optional: true
  - name: near
    description: |
      <p>カメラからニアクリッピング面までの距離。
                                デフォルトは<code>0.1 * 800</code>です。</p>
    type: Number
    optional: true
  - name: far
    description: |
      <p>カメラからファークリッピング面までの距離。
                                デフォルトは<code>10 * 800</code>です。</p>
    type: Number
    optional: true
chainable: false
---


# perspective

