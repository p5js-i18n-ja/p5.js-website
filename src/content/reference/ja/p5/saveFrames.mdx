---
title: saveFrames
module: Image
submodule: Image
file: src/image/image.js
description: >
  <p>キャンバスから一連のフレームをキャプチャし、画像として保存できるようにします。</p>

  <p><code>saveFrames()</code>はフレームオブジェクトの配列を作成します。各フレームは

  ファイルタイプ、ファイル名、および文字列としての画像データを持つオブジェクトとして保存されます。

  例えば、最初に保存されたフレームは以下のようなプロパティを持つかもしれません：</p>

  <p><code>{ ext: 'png', filenmame: 'frame0', imageData:
  'data:image/octet-stream;base64, abc123' }</code>。</p>

  <p>最初のパラメータ<code>filename</code>は、ファイル名のプレフィックスを設定します。

  例えば、プレフィックスを<code>'frame'</code>に設定すると、

  <code>frame0.png</code>、<code>frame1.png</code>などの画像ファイルが生成されます。</p>

  <p>2番目のパラメータ<code>extension</code>は、ファイルタイプを<code>'png'</code>または

  <code>'jpg'</code>に設定します。</p>

  <p>3番目のパラメータ<code>duration</code>は、記録する時間を秒単位で設定します。

  最大時間は15秒です。</p>

  <p>4番目のパラメータ<code>framerate</code>は、1秒あたりに記録するフレーム数を設定します。

  最大フレームレート値は22です。<code>duration</code>

  と<code>framerate</code>には制限が設けられており、これは過度のメモリ使用を避けるためです。大きなキャンバスを

  記録すると、スケッチやWebブラウザがクラッシュする可能性があります。</p>

  <p>5番目のパラメータ<code>callback</code>はオプションです。関数が渡された場合、

  デフォルトでは画像ファイルは保存されません。コールバック関数は

  キャプチャされた各フレームのデータを含む配列を処理するために使用できます。画像データの配列には、

  各フレームに対して3つのプロパティ（<code>imageData</code>、<code>filename</code>、

  <code>extension</code>）を持つオブジェクトのシーケンスが含まれています。</p>

  <p>注意：フレームはデフォルトで個別の画像ファイルとしてダウンロードされます。</p>
line: 561
isConstructor: false
itemtype: method
example:
  - >-

    <div>

    <code>

    function setup() {
      createCanvas(100, 100);

      describe('正方形が青からピンクへ繰り返し色が変化します。');
    }


    function draw() {
      let r = frameCount % 255;
      let g = 50;
      let b = 100;
      background(r, g, b);
    }


    // ユーザーが's'キーを押したときにフレームを保存します。

    function keyPressed() {
      if (key === 's') {
        saveFrames('frame', 'png', 1, 5);
      }
    }

    </code>

    </div>


    <div>

    <code>

    function setup() {
      createCanvas(100, 100);

      describe('正方形が青からピンクへ繰り返し色が変化します。');
    }


    function draw() {
      let r = frameCount % 255;
      let g = 50;
      let b = 100;
      background(r, g, b);
    }


    // ユーザーがマウスを押したときに5フレームを出力します。

    function mousePressed() {
      saveFrames('frame', 'png', 1, 5, printFrames);
    }


    // 生の画像データ、ファイル名、拡張子を含むオブジェクトの配列を出力します。

    function printFrames(frames) {
      for (let frame of frames) {
        print(frame);
      }
    }

    </code>

    </div>
class: p5
params:
  - name: filename
    description: |
      <p>ファイル名のプレフィックス。</p>
    type: String
  - name: extension
    description: |
      <p>ファイル拡張子、'jpg'または'png'。</p>
    type: String
  - name: duration
    description: >
      <p>記録する時間（秒）。このパラメータは15以下に制限されます。</p>
    type: Number
  - name: framerate
    description: >
      <p>1秒あたりに保存するフレーム数。このパラメータは22以下に制限されます。</p>
    type: Number
  - name: callback
    description: |
      <p>画像データを処理するために実行されるコールバック関数。
                                       この関数は引数として配列を受け取る必要があります。
                                       配列には指定された数のフレームオブジェクトが含まれます。
                                       各オブジェクトには3つのプロパティがあります：
                                       <code>imageData</code>、<code>filename</code>、<code>extension</code>。</p>
    type: Function(Array)
    optional: true
chainable: false
---


# saveFrames

