---
title: matchAll
module: Data
submodule: String Functions
file: src/utilities/string_functions.js
description: >
  <p>この関数は、正規表現をテキストに適用し、一致するグループ（括弧内に見つかった要素）を二次元の String 配列として返すために使用されます。</p>

  <p>一致がない場合は、null
  値が返されます。正規表現でグループが指定されていないが、シーケンスが一致している場合でも、二次元配列が返されますが、2次元目の長さは1です。</p>

  <p>この関数を使用するには、最初に結果が null かどうかを確認してください。結果が null
  の場合、シーケンスはまったく一致しませんでした。シーケンスが一致した場合、2次元配列が返されます。</p>

  <p>正規表現にグループ（括弧で指定されたセット）がある場合、それぞれの内容が配列に返されます。カウンタ変数 i
  をもつループを仮定すると、正規表現の一致の要素[i][0]は、一致する文字列全体を返し、一致グループは要素[i][1]で始まります（最初のグループは[i][1]、2番目のグループは[i][2]、といった具合）。</p>


  <hr/>

  <p>Applies a regular expression to a string and returns an array of
  matches.</p>

  <p><code>match()</code> uses regular expressions (regex) to match patterns in
  text. For

  example, the regex <code>abc</code> can be used to search a string for the
  exact

  sequence of characters <code>abc</code>. See

  <a
  href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#tools"
  target="_blank">MDN</a>.

  for more information about regexes. <code>matchAll()</code> is different from

  <a href="/reference/p5/match">match()</a> because it returns every match, not
  just

  the first.</p>

  <p>The first parameter, <code>str</code>, is the string to search.</p>

  <p>The second parameter, <code>regex</code>, is a string with the regular
  expression to

  apply. For example, calling

  <code>matchAll('p5*js is easier than abc123', '[a-z][0-9]')</code> would
  return the

  2D array <code>[['p5'], ['c1']]</code>.</p>

  <p>Note: If no matches are found, an empty array <code>[]</code> is
  returned.</p>
line: 119
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      background(200);

      // Create a string variable.
      let string = 'p5*js is easier than abc123';

      // Match the character sequences that are
      // lowercase letters followed by digits.
      let matches = matchAll(string, '[a-z][0-9]');

      // Print the matches array to the console:
      // [['p5'], ['c1']]
      print(matches);

      // Style the text.
      textAlign(CENTER, CENTER);
      textSize(16);

      // Iterate over the matches array.
      for (let i = 0; i < matches.length; i += 1) {

        // Calculate the y-coordainate.
        let y = (i + 1) * 33;

        // Display the match.
        text(matches[i], 50, y);
      }

      describe(
        'The text "p5" and "c1" written on separate lines. The text is black on a gray background.'
      );
    }
    </code>
    </div>
class: p5
params:
  - name: str
    description: |
      <p>検索対象の文字列</p>
      <p>string to search.</p>
    type: String
  - name: regexp
    description: |
      <p>一致させるために使用される正規表現</p>
      <p>regular expression to match.</p>
    type: String
return:
  description: |-
    見つかった文字列の2次元配列
    matches found.
  type: 'String[]'
chainable: false
---


# matchAll
