---
title: for
module: Foundation
submodule: Foundation
file: src/core/reference.js
description: >
  <p>繰り返し回数が既知の場合にコードブロックを繰り返す方法。</p>

  <p><code>for</code>ループは、特定の回数だけ文を繰り返すのに役立ちます。
  例えば、<code>for</code>ループを使えば、「5本の線を描く」というアイデアを
  次のように簡単に表現できます：</p>

  <pre><code class="language-js">for (let x = 10; x < 100; x += 20) {
    line(x, 25, x, 75);
  }

  </code></pre>

  <p>ループのヘッダーは<code>for</code>キーワードで始まります。ループは一般的に
  繰り返し（反復）の際にカウントアップまたはカウントダウンします。括弧内の文
  <code>let x = 10; x < 100; x += 20</code>は、ループがどのように繰り返すべきかを指示します：</p>

  <ul>

  <li><code>let x = 10</code>は、ループに<code>10</code>からカウントを開始し、
  変数<code>x</code>を使って反復を追跡するよう指示します。</li>

  <li><code>x < 100</code>は、ループに<code>100</code>まで（100は含まない）カウントアップするよう指示します。</li>

  <li><code>x += 20</code>は、ループに各反復の終わりに<code>20</code>ずつカウントアップするよう指示します。</li>

  </ul>

  <p>中括弧<code>{}</code>の間のコードがループの本体です。ループ本体内の文は
  ループの各反復中に繰り返されます。</p>

  <p>誤って無限ループを作成してしまうことがよくあります。これが起こると、
  スケッチが応答しなくなり、ウェブブラウザが警告を表示する場合があります。
  例えば、以下のループはカウントアップしないため、決して停止しません：</p>

  <pre><code class="language-js">for (let x = 10; x < 100; x = 20) {
    line(x, 25, x, 75);
  }

  </code></pre>

  <p>文<code>x = 20</code>は変数<code>x</code>を<code>20</code>に固定し続けるため、
  常に<code>100</code>未満となります。</p>

  <p><code>for</code>ループはカウントダウンすることもできます：</p>

  <pre><code class="language-js">for (let d = 100; d > 0; d -= 10) {
    circle(50, 50, d);
  }

  </code></pre>

  <p><code>for</code>ループは他のループを含むこともできます。以下のネストされたループは
  点の格子を描画します：</p>

  <pre><code class="language-js">// 左から右へループ

  for (let x = 10; x < 100; x += 10) {

    // 上から下へループ
    for (let y = 10; y < 100; y += 10) {
      point(x, y);
    }

  }

  </code></pre>

  <p><code>for</code>ループは配列の要素を反復処理するのにも役立ちます。
  例えば、描画する場所や内容に関する情報を含む配列を反復処理するのは一般的です：</p>

  <pre><code class="language-js">// x座標の配列を作成

  let xCoordinates = [20, 40, 60];


  for (let i = 0; i < xCoordinates.length; i += 1) {
    // 要素を更新
    xCoordinates[i] += random(-1, 1);

    // 円を描画
    circle(xCoordinates[i], 50, 20);
  }

  </code></pre>

  <p>配列の値が変更されない場合、<code>for...of</code>文を使用してコードを
  簡略化できます。これはPythonの<code>for</code>ループやC++およびJavaの<code>for-each</code>
  ループに似ています。以下のループは同じ効果があります：</p>

  <pre><code class="language-js">// forループを使用して円を描画

  let xCoordinates = [20, 40, 60];


  for (let i = 0; i < xCoordinates.length; i += 1) {
    circle(xCoordinates[i], 50, 20);
  }

  </code></pre>

  <pre><code class="language-js">// for...of文を使用して円を描画

  let xCoordinates = [20, 40, 60];


  for (let x of xCoordinates) {
    circle(x, 50, 20);
  }

  </code></pre>

  <p>上記のコードスニペットでは、変数<code>i</code>と<code>x</code>は異なる役割を持っています。</p>

  <p>最初のスニペットでは、<code>i</code>は<code>0</code>から<code>2</code>までカウントします。
  これは<code>xCoordinates.length</code>より1小さい値です。<code>i</code>は
  インデックス<code>i</code>で<code>xCoordinates</code>の要素にアクセスするために使用されます。</p>

  <p>2番目のコードスニペットでは、<code>x</code>はループの進行や
  インデックスを追跡していません。各反復で、<code>x</code>は<code>xCoordinates</code>の
  次の要素を含みます。<code>x</code>は<code>xCoordinates</code>の先頭（<code>20</code>）から
  始まり、次の反復で値を<code>40</code>、そして<code>60</code>に更新します。</p>
line: 1688
isConstructor: false
itemtype: property
example:
  - |-

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe('灰色の背景に5本の黒い垂直線。');
    }

    function draw() {
      background(200);

      // ループを使用して垂直線を描画
      for (let x = 10; x < 100; x += 20) {
        line(x, 25, x, 75);
      }
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe('灰色の背景に5つの白い同心円が描かれている。');
    }

    function draw() {
      background(200);

      // ループを使用して同心円を描画
      for (let d = 100; d > 0; d -= 20) {
        circle(50, 50, d);
      }
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe('灰色の背景に黒い点の格子。');
    }

    function draw() {
      background(200);

      // 格子上の点の間隔を設定
      let space = 10;

      // ストロークの太さを増やす
      strokeWeight(3);

      // 左から右へループ
      for (let x = space; x < 100; x += space) {
        // 上から下へループ
        for (let y = space; y < 100; y += space) {
          point(x, y);
        }
      }
    }
    </code>
    </div>

    <div>
    <code>
    // 変数xCoordinatesを宣言し、数値の配列を割り当てる
    let xCoordinates = [20, 40, 60, 80];

    function setup() {
      createCanvas(100, 100);

      describe('灰色の背景に水平に並んだ4つの白い円。');
    }

    function draw() {
      background(200);

      // インデックスiの要素にアクセスし、それを使用して円を描画
      for (let i = 0; i < xCoordinates.length; i += 1) {
        circle(xCoordinates[i], 50, 20);
      }
    }
    </code>
    </div>

    <div>
    <code>
    // 変数xCoordinatesを宣言し、数値の配列を割り当てる
    let xCoordinates = [20, 40, 60, 80];

    function setup() {
      createCanvas(100, 100);

      describe('灰色の背景に水平に並んだ4つの白い円。');
    }

    function draw() {
      background(200);

      // 配列の各要素にアクセスし、それを使用して円を描画
      for (let x of xCoordinates) {
        circle(x, 50, 20);
      }
    }
    </code>
    </div>
class: p5
---


# for

