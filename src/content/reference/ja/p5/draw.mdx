---
title: draw
module: Structure
submodule: Structure
file: src/core/main.js
description: >
  <p><a href="#/p5/setup">setup()</a> の直後に呼び出される <a href="#/p5/draw">draw()</a>
  関数は、プログラムが停止するか <a href="#/p5/noLoop">noLoop()</a>
  が呼び出されるまで、そのブロック内に含まれるコードを連続して実行します。</p>

  <p>ただし、<a href="#/p5/setup">setup()</a> で <a href="#/p5/noLoop">noLoop()</a>
  が呼び出された場合でも、<a href="#/p5/draw">draw()</a> は停止する前に一度だけ実行されます。<a
  href="#/p5/draw">draw()</a> は自動的に呼び出されるため、明示的に呼び出すことはできません。</p>

  <p>この関数を制御するには <a href="#/p5/noLoop">noLoop()</a>、<a
  href="#/p5/redraw">redraw()</a>、<a href="#/p5/loop">loop()</a> を使う必要があります。<a
  href="#/p5/noLoop">noLoop()</a> で <a href="#/p5/draw">draw()</a>
  内のコードの実行が停止された後、<a href="#/p5/redraw">redraw()</a> で <a
  href="#/p5/draw">draw()</a> 内のコードを1回だけ実行し、<a href="#/p5/loop">loop()</a> で <a
  href="#/p5/draw">draw()</a> 内のコードの実行が継続的に再開されます。</p>

  <p><a href="#/p5/draw">draw()</a> が1秒間に何回実行されるかは、<a
  href="#/p5/frameRate">frameRate()</a> 関数で制御できます。</p>

  <p>各スケッチにはひとつの <a href="#/p5/draw">draw()</a> 関数があり、コードを連続して実行する場合や、<a
  href="#/p5/mousePressed">mousePressed()</a> などのイベントを処理する場合には、<a
  href="#/p5/draw">draw()</a> が必要です。場合によっては、例のようにプログラム内で <a
  href="#/p5/draw">draw()</a> を空呼び出しすることがあるかもしれません。</p>

  <p>描画座標系は、各 <a href="#/p5/draw">draw()</a> 呼び出しの最初にリセットされることに注意が必要です。<a
  href="#/p5/draw">draw()</a> 内で変換が実行された場合（例: スケール、回転、移動）、その効果は <a
  href="#/p5/draw">draw()</a> の最初にもとに戻されるため、変換は時間とともに蓄積されません。一方で、適用されたスタイリング（例:
  塗りつぶし、ストロークなど）はその効果が持続します。</p>


  <hr/>

  <p>A function that's called repeatedly while the sketch runs.</p>

  <p>Declaring the function <code>draw()</code> sets a code block to run
  repeatedly

  once the sketch starts. It’s used to create animations and respond to

  user inputs:</p>

  <pre><code class="language-js">function draw() {
    // Code to run repeatedly.
  }

  </code></pre>

  <p>This is often called the "draw loop" because p5.js calls the code in

  <code>draw()</code> in a loop behind the scenes. By default,
  <code>draw()</code> tries to run

  60 times per second. The actual rate depends on many factors. The

  drawing rate, called the "frame rate", can be controlled by calling

  <a href="/reference/p5/frameRate/">frameRate()</a>. The number of times
  <code>draw()</code>

  has run is stored in the system variable

  <a href="/reference/p5/frameCount/">frameCount()</a>.</p>

  <p>Code placed within <code>draw()</code> begins looping after

  <a href="/reference/p5/setup/">setup()</a> runs. <code>draw()</code> will run
  until the user

  closes the sketch. <code>draw()</code> can be stopped by calling the

  <a href="/reference/p5/noLoop/">noLoop()</a> function. <code>draw()</code> can
  be resumed by

  calling the <a href="/reference/p5/loop/">loop()</a> function.</p>
line: 176
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      // Paint the background once.
      background(200);

      describe(
        'A white circle on a gray background. The circle follows the mouse as the user moves, leaving a trail.'
      );
    }

    function draw() {
      // Draw circles repeatedly.
      circle(mouseX, mouseY, 40);
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe(
        'A white circle on a gray background. The circle follows the mouse as the user moves.'
      );
    }

    function draw() {
      // Paint the background repeatedly.
      background(200);

      // Draw circles repeatedly.
      circle(mouseX, mouseY, 40);
    }
    </code>
    </div>

    <div>
    <code>
    // Double-click the canvas to change the circle's color.

    function setup() {
      createCanvas(100, 100);

      describe(
        'A white circle on a gray background. The circle follows the mouse as the user moves. The circle changes color to pink when the user double-clicks.'
      );
    }

    function draw() {
      // Paint the background repeatedly.
      background(200);

      // Draw circles repeatedly.
      circle(mouseX, mouseY, 40);
    }

    // Change the fill color when the user double-clicks.
    function doubleClicked() {
      fill('deeppink');
    }
    </code>
    </div>
class: p5
chainable: false
---


# draw
