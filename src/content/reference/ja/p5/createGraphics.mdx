---
title: createGraphics
module: Rendering
submodule: Rendering
file: src/core/rendering.js
description: >-
  <p>新しい p5.Graphics オブジェクトを作成して返します。</p>

  <p>オフスクリーンのグラフィックスバッファに描画する必要がある場合は、このクラスを使用します。2つのパラメーターは、ピクセル単位の幅と高さを定義します。</p>

  <p>WebGL p5.Graphics は、ブラウザーが WebGL2 をサポートしている場合、WebGL2 コンテキストを使用します。</p>

  <p>レンダラーの <a href="#/p5/webglVersion">pg.webglVersion</a>
  プロパティを確認して使用しているバージョンを確認するか、<a href="#/p5/setAttributes">pg.setAttributes({
  version: 1 })</a> を呼び出して WebGL1 コンテキストを作成します。</p>

  <p>オプションとして、セレクター（例:
  document.getElementById('')）を使用して既存のキャンバスを渡すことができます。デフォルトではこのキャンバスは非表示（オフスクリーンバッファ）になりますが、表示するには、要素のスタイルを
  display:block; に設定します。</p>


  <hr/>

  <p>Creates a <a href="/reference/p5/p5.Graphics/">p5.Graphics</a> object.</p>

  <p><code>createGraphics()</code> creates an offscreen drawing canvas (graphics
  buffer)

  and returns it as a <a href="/reference/p5/p5.Graphics/">p5.Graphics</a>
  object. Drawing

  to a separate graphics buffer can be helpful for performance and for

  organizing code.</p>

  <p>The first two parameters, <code>width</code> and <code>height</code>, are
  optional. They set the

  dimensions of the <a href="/reference/p5/p5.Graphics/">p5.Graphics</a> object.
  For

  example, calling <code>createGraphics(900, 500)</code> creates a graphics
  buffer

  that's 900×500 pixels.</p>

  <p>The third parameter is also optional. If either of the constants
  <code>P2D</code> or

  <code>WEBGL</code> is passed, as in <code>createGraphics(900, 500,
  WEBGL)</code>, then it will set

  the <a href="/reference/p5/p5.Graphics/">p5.Graphics</a> object's rendering
  mode. If an

  existing

  <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/"
  target="_blank">HTMLCanvasElement</a>

  is passed, as in <code>createGraphics(900, 500, myCanvas)</code>, then it will
  be used

  by the graphics buffer.</p>

  <p>The fourth parameter is also optional. If an existing

  <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/"
  target="_blank">HTMLCanvasElement</a>

  is passed, as in <code>createGraphics(900, 500, WEBGL, myCanvas)</code>, then
  it will be

  used by the graphics buffer.</p>

  <p>Note: In WebGL mode, the <a
  href="/reference/p5/p5.Graphics/">p5.Graphics</a> object

  will use a WebGL2 context if it's supported by the browser. Check the

  <a href="/reference/p5/webglVersion/">webglVersion</a> system variable to
  check what

  version is being used, or call <code>setAttributes({ version: 1 })</code> to
  create a

  WebGL1 context.</p>


  <pre>

  todo: update overloads.

  {
      "w": "Number: オフスクリーングラフィックバッファの幅",
      "h": "Number: オフスクリーングラフィックバッファの高さ",
      "renderer": "Constant: (オプション) P2D または WEBGL。未定義の場合は P2D がデフォルトです。",
      "canvas": "HTMLCanvasElement: (オプション) 既存の HTML Canvas 要素"
  }

  </pre>
line: 370
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    //  Double-click to draw the contents of the graphics buffer.

    let pg;

    function setup() {
      createCanvas(100, 100);

      background(200);

      // Create the p5.Graphics object.
      pg = createGraphics(50, 50);

      // Draw to the graphics buffer.
      pg.background(100);
      pg.circle(pg.width / 2, pg.height / 2, 20);

      describe('A gray square. A smaller, darker square with a white circle at its center appears when the user double-clicks.');
    }

    // Display the graphics buffer when the user double-clicks.
    function doubleClicked() {
      if (mouseX > 0 && mouseX < 100 && mouseY > 0 && mouseY < 100) {
        image(pg, 25, 25);
      }
    }
    </code>
    </div>

    <div>
    <code>
    //  Double-click to draw the contents of the graphics buffer.

    let pg;

    function setup() {
      createCanvas(100, 100);

      background(200);

      // Create the p5.Graphics object in WebGL mode.
      pg = createGraphics(50, 50, WEBGL);

      // Draw to the graphics buffer.
      pg.background(100);
      pg.lights();
      pg.noStroke();
      pg.rotateX(QUARTER_PI);
      pg.rotateY(QUARTER_PI);
      pg.torus(15, 5);

      describe('A gray square. A smaller, darker square with a white torus at its center appears when the user double-clicks.');
    }

    // Display the graphics buffer when the user double-clicks.
    function doubleClicked() {
      if (mouseX > 0 && mouseX < 100 && mouseY > 0 && mouseY < 100) {
        image(pg, 25, 25);
      }
    }
    </code>
    </div>
class: p5
return:
  description: |-
    オフスクリーングラフィックバッファ
    new graphics buffer.
  type: p5.Graphics
overloads:
  - line: 370
    params:
      - name: width
        description: |
          <p>width of the graphics buffer.</p>
        type: Number
      - name: height
        description: |
          <p>height of the graphics buffer.</p>
        type: Number
      - name: renderer
        description: |
          <p>either P2D or WEBGL. Defaults to P2D.</p>
        type: Constant
        optional: true
      - name: canvas
        description: |
          <p>existing canvas element that should be
                                               used for the graphics buffer..</p>
        type: HTMLCanvasElement
        optional: true
    return:
      description: new graphics buffer.
      type: p5.Graphics
  - line: 475
    params:
      - name: width
        description: ''
        type: Number
      - name: height
        description: ''
        type: Number
      - name: canvas
        description: ''
        type: HTMLCanvasElement
        optional: true
    return:
      description: ''
      type: p5.Graphics
chainable: false
---


# createGraphics
