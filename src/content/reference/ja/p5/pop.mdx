---
title: pop
module: Structure
submodule: Structure
file: src/core/structure.js
description: "<p>独自のスタイルと変換を含む描画グループを終了します。</p>\n<p>デフォルトでは、<a href=\"/reference/p5/fill/\">fill()</a>のようなスタイルや\n<a href=\"/reference/p5/rotate/\">rotate()</a>のような変換は、\nその後のすべての描画に適用されます。<a href=\"/reference/p5/push/\">push()</a>と<code>pop()</code>\n関数を使用すると、スタイルと変換の効果を特定のグループの\n図形、画像、テキストに限定できます。例えば、図形のグループを\nマウスに追従するように移動させても、スケッチの他の部分には影響を与えないようにできます：</p>\n<pre><code class=\"language-js\">// 描画グループを開始します。\npush();\n\n// 原点をマウスの位置に移動します。\ntranslate(mouseX, mouseY);\n\n// 顔のスタイルを設定します。\nnoStroke();\nfill('green');\n\n// 顔を描きます。\ncircle(0, 0, 60);\n\n// 目のスタイルを設定します。\nfill('white');\n\n// 左目を描きます。\nellipse(-20, -20, 30, 20);\n\n// 右目を描きます。\nellipse(20, -20, 30, 20);\n\n// 描画グループを終了します。\npop();\n\n// 虫を描きます。\nlet x = random(0, 100);\nlet y = random(0, 100);\ntext('\U0001F99F', x, y);\n</code></pre>\n<p>上記のコードスニペットでは、虫の位置は\n<code>translate(mouseX, mouseY)</code>の影響を受けません。なぜなら、その変換は\n<a href=\"/reference/p5/push/\">push()</a>と<code>pop()</code>の間に含まれているからです。虫は\n予想通りキャンバス全体を移動します。</p>\n<p>注意：<a href=\"/reference/p5/push/\">push()</a>と<code>pop()</code>は常にペアで呼び出されます。\n両方の関数が描画グループを開始し終了するために必要です。</p>\n<p><a href=\"/reference/p5/push/\">push()</a>と<code>pop()</code>はネストして\nサブグループを作成することもできます。例えば、上記のコードスニペットを\n変更してカエルの目により詳細を加えることができます：</p>\n<pre><code class=\"language-js\">// 描画グループを開始します。\npush();\n\n// 原点をマウスの位置に移動します。\ntranslate(mouseX, mouseY);\n\n// 顔のスタイルを設定します。\nnoStroke();\nfill('green');\n\n// 顔を描きます。\ncircle(0, 0, 60);\n\n// 目のスタイルを設定します。\nfill('white');\n\n// 左目を描きます。\npush();\ntranslate(-20, -20);\nellipse(0, 0, 30, 20);\nfill('black');\ncircle(0, 0, 8);\npop();\n\n// 右目を描きます。\npush();\ntranslate(20, -20);\nellipse(0, 0, 30, 20);\nfill('black');\ncircle(0, 0, 8);\npop();\n\n// 描画グループを終了します。\npop();\n\n// 虫を描きます。\nlet x = random(0, 100);\nlet y = random(0, 100);\ntext('\U0001F99F', x, y);\n</code></pre>\n<p>このバージョンでは、各目を描くコードは独自の\n<a href=\"/reference/p5/push/\">push()</a>と<code>pop()</code>関数の間に含まれています。\nこうすることで、描画の正しい部分に詳細を追加しやすくなります。</p>\n<p><a href=\"/reference/p5/push/\">push()</a>と<code>pop()</code>は\n以下の関数の効果を含みます：</p>\n<ul>\n<li><a href=\"/reference/p5/fill/\">fill()</a></li>\n<li><a href=\"/reference/p5/noFill/\">noFill()</a></li>\n<li><a href=\"/reference/p5/noStroke/\">noStroke()</a></li>\n<li><a href=\"/reference/p5/stroke/\">stroke()</a></li>\n<li><a href=\"/reference/p5/tint/\">tint()</a></li>\n<li><a href=\"/reference/p5/noTint/\">noTint()</a></li>\n<li><a href=\"/reference/p5/strokeWeight/\">strokeWeight()</a></li>\n<li><a href=\"/reference/p5/strokeCap/\">strokeCap()</a></li>\n<li><a href=\"/reference/p5/strokeJoin/\">strokeJoin()</a></li>\n<li><a href=\"/reference/p5/imageMode/\">imageMode()</a></li>\n<li><a href=\"/reference/p5/rectMode/\">rectMode()</a></li>\n<li><a href=\"/reference/p5/ellipseMode/\">ellipseMode()</a></li>\n<li><a href=\"/reference/p5/colorMode/\">colorMode()</a></li>\n<li><a href=\"/reference/p5/textAlign/\">textAlign()</a></li>\n<li><a href=\"/reference/p5/textFont/\">textFont()</a></li>\n<li><a href=\"/reference/p5/textSize/\">textSize()</a></li>\n<li><a href=\"/reference/p5/textLeading/\">textLeading()</a></li>\n<li><a href=\"/reference/p5/applyMatrix/\">applyMatrix()</a></li>\n<li><a href=\"/reference/p5/resetMatrix/\">resetMatrix()</a></li>\n<li><a href=\"/reference/p5/rotate/\">rotate()</a></li>\n<li><a href=\"/reference/p5/scale/\">scale()</a></li>\n<li><a href=\"/reference/p5/shearX/\">shearX()</a></li>\n<li><a href=\"/reference/p5/shearY/\">shearY()</a></li>\n<li><a href=\"/reference/p5/translate/\">translate()</a></li>\n</ul>\n<p>WebGLモードでは、<a href=\"/reference/p5/push/\">push()</a>と<code>pop()</code>は\nいくつかの追加のスタイルの効果も含みます：</p>\n<ul>\n<li><a href=\"/reference/p5/setCamera/\">setCamera()</a></li>\n<li><a href=\"/reference/p5/ambientLight/\">ambientLight()</a></li>\n<li><a href=\"/reference/p5/directionalLight/\">directionalLight()</a></li>\n<li><a href=\"/reference/p5/pointLight/\">pointLight()</a> <a href=\"/reference/p5/texture/\">texture()</a></li>\n<li><a href=\"/reference/p5/specularMaterial/\">specularMaterial()</a></li>\n<li><a href=\"/reference/p5/shininess/\">shininess()</a></li>\n<li><a href=\"/reference/p5/normalMaterial/\">normalMaterial()</a></li>\n<li><a href=\"/reference/p5/shader/\">shader()</a></li>\n</ul>\n"
line: 553
isConstructor: false
itemtype: method
example:
  - "\n<div>\n<code>\nfunction setup() {\n  createCanvas(100, 100);\n\n  background(200);\n\n  // 左の円を描きます。\n  circle(25, 50, 20);\n\n  // 描画グループを開始します。\n  push();\n\n  // 原点を中心に移動します。\n  translate(50, 50);\n\n  // 円のスタイルを設定します。\n  strokeWeight(5);\n  stroke('royalblue');\n  fill('orange');\n\n  // 円を描きます。\n  circle(0, 0, 20);\n\n  // 描画グループを終了します。\n  pop();\n\n  // 右の円を描きます。\n  circle(75, 50, 20);\n\n  describe(\n    '灰色の背景に3つの円が横一列に描かれています。左右の円は白で細い黒い輪郭があります。中央の円はオレンジ色で太い青い輪郭があります。'\n  );\n}\n</code>\n</div>\n\n<div>\n<code>\nfunction setup() {\n  createCanvas(100, 100);\n\n  // フレームレートを遅くします。\n  frameRate(24);\n\n  describe('緑のカエルの前で蚊が飛んでいます。ユーザーがマウスを動かすとカエルがマウスに追従します。');\n}\n\nfunction draw() {\n  background(200);\n\n  // 描画グループを開始します。\n  push();\n\n  // 原点をマウスの位置に移動します。\n  translate(mouseX, mouseY);\n\n  // 顔のスタイルを設定します。\n  noStroke();\n  fill('green');\n\n  // 顔を描きます。\n  circle(0, 0, 60);\n\n  // 目のスタイルを設定します。\n  fill('white');\n\n  // 左目を描きます。\n  push();\n  translate(-20, -20);\n  ellipse(0, 0, 30, 20);\n  fill('black');\n  circle(0, 0, 8);\n  pop();\n\n  // 右目を描きます。\n  push();\n  translate(20, -20);\n  ellipse(0, 0, 30, 20);\n  fill('black');\n  circle(0, 0, 8);\n  pop();\n\n  // 描画グループを終了します。\n  pop();\n\n  // 虫を描きます。\n  let x = random(0, 100);\n  let y = random(0, 100);\n  text('\U0001F99F', x, y);\n}\n</code>\n</div>\n\n<div>\n<code>\n// クリックしてドラッグすると、異なる角度からシーンを見ることができます。\n\nfunction setup() {\n  createCanvas(100, 100, WEBGL);\n\n  describe(\n    '灰色の背景に2つの球体が描かれています。左の球体は赤色で前面から光が当たっています。右の球体は青色のワイヤーフレームです。'\n  );\n}\n\nfunction draw() {\n  background(200);\n\n  // マウスでの軌道制御を有効にします。\n  orbitControl();\n\n  // 赤い球体を描きます。\n  push();\n  translate(-25, 0, 0);\n  noStroke();\n  directionalLight(255, 0, 0, 0, 0, -1);\n  sphere(20);\n  pop();\n\n  // 青い球体を描きます。\n  push();\n  translate(25, 0, 0);\n  strokeWeight(0.3);\n  stroke(0, 0, 255);\n  noFill();\n  sphere(20);\n  pop();\n}\n</code>\n</div>"
class: p5
chainable: false
---


# pop

