---
title: perspective
module: 3D
submodule: Camera
file: src/webgl/p5.Camera.js
description: >
  <p>3D スケッチの現在のカメラに対して透視投影を設定します。</p>

  <p>この投影は、縮尺を通じて奥行きを表現します。カメラに近いオブジェクトは実際のサイズで表示され、カメラから離れたオブジェクトは小さく表示されます。</p>

  <p>この関数のパラメーターは、垂直視野角、アスペクト比（通常は幅/高さ）、および、近距離および遠距離クリッピング平面を通じて、視錐台（カメラによってオブジェクトが見られる切り取られたピラミッド）を定義します。</p>

  <p>If no parameters are given, the default values are used as: <ul>
  <li><code>fov</code> : The default field of view for the camera is such that
  the full height of renderer is visible when it is positioned at a default
  distance of 800 units from the camera.</li> <li><code>aspect</code> : The
  default aspect ratio is the ratio of renderer's width to renderer's
  height.</li> <li><code>near</code> : The default value for the near clipping
  plane is 80, which is 0.1 times the default distance from the camera to its
  subject.</li> <li><code>far</code> : The default value for the far clipping
  plane is 8000, which is 10 times the default distance from the camera to its
  subject.</li> </ul></p>

  <p>If you prefer a fixed field of view, follow these steps: <ol> <li>Choose
  your desired field of view angle (<code>fovy</code>). This is how wide the
  camera can see.</li> <li>To ensure that you can see the entire width across
  horizontally and height across vertically, place the camera a distance of
  <code>(height / 2) / tan(fovy / 2)</code> back from its subject.</li> <li>Call
  perspective with the chosen field of view, canvas aspect ratio, and near/far
  values: <code>perspective(fovy, width / height, cameraDistance / 10,
  cameraDistance * 10);</code></li> </ol></p>

  <p>/// todo /// change 1 line to 2 lines</p>

  <p>パラメーターが指定されていない場合、デフォルトで次のようになります: perspective(PI/3, width/height, eyeZ/10,
  eyeZ*10)。ここで、eyeZ は((height/2) / tan(PI/6))と等しいです。</p>


  <hr/>

  <p>Sets a perspective projection for the current camera in a 3D sketch.</p>

  <p>In a perspective projection, shapes that are further from the camera appear

  smaller than shapes that are near the camera. This technique, called

  foreshortening, creates realistic 3D scenes. It’s applied by default in

  WebGL mode.</p>

  <p><code>perspective()</code> changes the camera’s perspective by changing its
  viewing

  frustum. The frustum is the volume of space that’s visible to the camera.

  Its shape is a pyramid with its top cut off. The camera is placed where

  the top of the pyramid should be and views everything between the frustum’s

  top (near) plane and its bottom (far) plane.</p>

  <p>The first parameter, <code>fovy</code>, is the camera’s vertical field of
  view. It’s

  an angle that describes how tall or narrow a view the camera has. For

  example, calling <code>perspective(0.5)</code> sets the camera’s vertical
  field of

  view to 0.5 radians. By default, <code>fovy</code> is calculated based on the
  sketch’s

  height and the camera’s default z-coordinate, which is 800. The formula for

  the default <code>fovy</code> is <code>2 * atan(height / 2 / 800)</code>.</p>

  <p>The second parameter, <code>aspect</code>, is the camera’s aspect ratio.
  It’s a number

  that describes the ratio of the top plane’s width to its height. For

  example, calling <code>perspective(0.5, 1.5)</code> sets the camera’s field of
  view to

  0.5 radians and aspect ratio to 1.5, which would make shapes appear thinner

  on a square canvas. By default, aspect is set to <code>width /
  height</code>.</p>

  <p>The third parameter, <code>near</code>, is the distance from the camera to
  the near

  plane. For example, calling <code>perspective(0.5, 1.5, 100)</code> sets the
  camera’s

  field of view to 0.5 radians, its aspect ratio to 1.5, and places the near

  plane 100 pixels from the camera. Any shapes drawn less than 100 pixels

  from the camera won’t be visible. By default, near is set to <code>0.1 *
  800</code>,

  which is 1/10th the default distance between the camera and the origin.</p>

  <p>The fourth parameter, <code>far</code>, is the distance from the camera to
  the far

  plane. For example, calling <code>perspective(0.5, 1.5, 100, 10000)</code>
  sets the

  camera’s field of view to 0.5 radians, its aspect ratio to 1.5, places the

  near plane 100 pixels from the camera, and places the far plane 10,000

  pixels from the camera. Any shapes drawn more than 10,000 pixels from the

  camera won’t be visible. By default, far is set to <code>10 * 800</code>,
  which is 10

  times the default distance between the camera and the origin.</p>

  <p>Note: <code>perspective()</code> can only be used in WebGL mode.</p>
line: 148
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    // Double-click to squeeze the box.

    let isSqueezed = false;

    function setup() {
      createCanvas(100, 100, WEBGL);

      describe('A white rectangular prism on a gray background. The box appears to become thinner when the user double-clicks.');
    }

    function draw() {
      background(200);

      // Place the camera at the top-right.
      camera(400, -400, 800);

      if (isSqueezed === true) {
        // Set fovy to 0.2.
        // Set aspect to 1.5.
        perspective(0.2, 1.5);
      }

      // Draw the box.
      box();
    }

    // Change the camera's perspective when the user double-clicks.
    function doubleClicked() {
      isSqueezed = true;
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100, WEBGL);

      describe('A white rectangular prism on a gray background. The prism moves away from the camera until it disappears.');
    }

    function draw() {
      background(200);

      // Place the camera at the top-right.
      camera(400, -400, 800);

      // Set fovy to 0.2.
      // Set aspect to 1.5.
      // Set near to 600.
      // Set far to 1200.
      perspective(0.2, 1.5, 600, 1200);

      // Move the origin away from the camera.
      let x = -frameCount;
      let y = frameCount;
      let z = -2 * frameCount;
      translate(x, y, z);

      // Draw the box.
      box();
    }
    </code>
    </div>
class: p5
params:
  - name: fovy
    description: >
      <p>(オプション) カメラの視錐台の垂直視野角、ビューの下から上まで、<a href="#/p5/angleMode">angleMode</a>
      の単位で</p>

      <p>camera frustum vertical field of view. Defaults to
                                <code>2 * atan(height / 2 / 800)</code>.</p>
    type: Number
    optional: true
  - name: aspect
    description: |
      <p>(オプション) カメラの視錐台のアスペクト比</p>
      <p>camera frustum aspect ratio. Defaults to
                                <code>width / height</code>.</p>
    type: Number
    optional: true
  - name: near
    description: |
      <p>(オプション) 視錐台の近距離平面の長さ</p>
      <p>distance from the camera to the near clipping plane.
                                Defaults to <code>0.1 * 800</code>.</p>
    type: Number
    optional: true
  - name: far
    description: |
      <p>(オプション) 視錐台の遠距離平面の長さ</p>
      <p>distance from the camera to the far clipping plane.
                                Defaults to <code>10 * 800</code>.</p>
    type: Number
    optional: true
chainable: true
---


# perspective
