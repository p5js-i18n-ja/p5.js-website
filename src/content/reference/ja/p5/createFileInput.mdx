---
title: createFileInput
module: DOM
submodule: DOM
file: src/dom/dom.js
description: >
  <p><code><input></input></code>要素のタイプ<code>'file'</code>を作成します。</p>

  <p><code>createFileInput()</code>を使用すると、ユーザーがスケッチで使用するローカルファイルを選択できます。

  これは<a href="/reference/p5/p5.File">p5.File</a>オブジェクトを返します。</p>

  <p>最初のパラメータ<code>callback</code>は、ファイルが読み込まれたときに呼び出される関数です。

  コールバック関数は、<a href="/reference/p5/p5.File">p5.File</a>オブジェクトである

  <code>file</code>という1つのパラメータを持つ必要があります。</p>

  <p>2番目のパラメータ<code>multiple</code>はオプションです。これは複数のファイルの読み込みを

  許可するかどうかを決定するブール値です。<code>true</code>に設定すると、<code>callback</code>は

  ファイルごとに1回呼び出されます。</p>

line: 1924
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    // ファイル入力を使用して、読み込んで
    // 表示する画像を選択します。
    let input;
    let img;

    function setup() {
      createCanvas(100, 100);

      // ファイル入力を作成し、キャンバスの
      // 下に配置します。
      input = createFileInput(handleImage);
      input.position(0, 100);

      describe('灰色の正方形と、その下にファイル入力があります。ユーザーが読み込む画像ファイルを選択すると、その画像が正方形に表示されます。');
    }

    function draw() {
      background(200);

      // 画像が読み込まれていれば描画します。
      if (img) {
        image(img, 0, 0, width, height);
      }
    }

    // ファイルが画像の場合、画像を作成します。
    function handleImage(file) {
      if (file.type === 'image') {
        img = createImg(file.data, '');
        img.hide();
      } else {
        img = null;
      }
    }
    </code>
    </div>

    <div>
    <code>
    // ファイル入力を使用して、複数の画像を
    // 選択して読み込み、表示します。
    let input;
    let images = [];

    function setup() {
      // ファイル入力を作成し、キャンバスの下に
      // 配置します。複数のファイルの読み込みを許可します。
      input = createFileInput(handleImage, true);
      input.position(0, 100);
    }

    function draw() {
      background(200);

      // 画像が読み込まれていれば描画します。各画像は
      // 前の画像より20ピクセル下に
      // 描画されます。
      for (let i = 0; i < images.length; i += 1) {
        // y座標を計算します。
        let y = i * 20;

        // 画像を描画します。
        image(img, 0, y, 100, 100);
      }

      describe('灰色の正方形と、その下にファイル入力があります。ユーザーが複数の画像ファイルを選択して読み込むと、それらの画像が正方形に表示されます。');
    }

    // ファイルが画像の場合、画像を作成し、
    // images配列に追加します。
    function handleImage(file) {
      if (file.type === 'image') {
        let img = createImg(file.data, '');
        img.hide();
        images.push(img);
      }
    }
    </code>
    </div>
class: p5
params:
  - name: callback
    description: |
      <p>ファイルが読み込まれたときに呼び出す関数。</p>
    type: Function
  - name: multiple
    description: |
      <p>複数のファイルの選択を許可するかどうか。</p>
    type: Boolean
    optional: true
return:
  description: 新しい<a href="#/p5.File">p5.File</a>オブジェクト。
  type: p5.File
chainable: false
---


# createFileInput

