---
title: curveVertex
module: Shape
submodule: Vertex
file: src/core/shape/vertex.js
description: >
  <p>カスタムシェイプにスプライン曲線セグメントを追加します。</p>

  <p><code>curveVertex()</code>はカスタムシェイプに曲線セグメントを追加します。
  作成される曲線は<a href="/reference/p5/curve/">curve()</a>関数で作成されるものと
  同様に定義されます。<code>curveVertex()</code>は
  <a href="/reference/p5/beginShape/">beginShape()</a>と
  <a href="/reference/p5/endShape/">endShape()</a>関数の間で
  呼び出す必要があります。</p>

  <p>スプライン曲線は、緩やかに傾斜する形状や曲線を形成できます。これらは
  一連の点に取り付けられたケーブルのようなものです。スプラインは2つの
  アンカーポイントと2つの制御点によって定義されます。曲線を描くためには、
  <code>curveVertex()</code>を<a href="/reference/p5/beginShape/">beginShape()</a>と
  <a href="/reference/p5/endShape/">endShape()</a>の間で少なくとも4回
  呼び出す必要があります：</p>

  <pre><code class="language-js">beginShape();


  // 最初の制御点を追加

  curveVertex(84, 91);


  // 描画するアンカーポイントを追加

  curveVertex(68, 19);

  curveVertex(21, 17);


  // 2番目の制御点を追加

  curveVertex(32, 91);

  endShape();

  </code></pre>

  <p>上記のコードスニペットは、<a href="/reference/p5/curve/">curve()</a>関数と
  同様に、アンカーポイント間の曲線のみを描画します。制御点とアンカーポイント間の
  セグメントは、制御点の座標で<code>curveVertex()</code>を呼び出すことで
  描画できます：</p>

  <pre><code class="language-js">beginShape();


  // 最初の制御点を追加し、そこまでのセグメントを描画

  curveVertex(84, 91);

  curveVertex(84, 91);


  // 描画するアンカーポイントを追加

  curveVertex(68, 19);

  curveVertex(21, 17);


  // 2番目の制御点を追加

  curveVertex(32, 91);


  // 2番目の制御点までのセグメントを描画するには、次の行のコメントを解除してください

  // curveVertex(32, 91);


  endShape();

  </code></pre>

  <p>最初の2つのパラメータ、<code>x</code>と<code>y</code>は、頂点の位置を設定します。
  例えば、<code>curveVertex(10, 10)</code>を呼び出すと、<code>(10, 10)</code>の
  位置に点が曲線に追加されます。</p>

  <p>スプライン曲線はWebGLモードを使用して3Dでも描画できます。3Dバージョンの
  <code>curveVertex()</code>は、各点がx、y、z座標を持つため、3つの引数を
  持ちます。デフォルトでは、頂点のz座標は0に設定されます。</p>

  <p>注意：<code>curveVertex()</code>は<a href="/reference/p5/beginShape/">beginShape()</a>に
  引数が渡された場合は機能しません。</p>
line: 832
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      background(200);

      // シェイプのスタイルを設定
      noFill();
      strokeWeight(1);

      // シェイプの描画を開始
      beginShape();

      // 最初の制御点を追加
      curveVertex(32, 91);

      // アンカーポイントを追加
      curveVertex(21, 17);
      curveVertex(68, 19);

      // 2番目の制御点を追加
      curveVertex(84, 91);

      // シェイプの描画を終了
            endShape();

      // アンカーポイントと制御点のスタイルを設定
      strokeWeight(5);

      // アンカーポイントを黒で描画
      stroke(0);
      point(21, 17);
      point(68, 19);

      // 制御点を赤で描画
      stroke(255, 0, 0);
      point(32, 91);
      point(84, 91);

      describe(
        '灰色の背景に描かれた黒い曲線。曲線の端には黒い点がある。キャンバスの下部に2つの赤い点が表示されている。'
      );
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      background(200);

      // シェイプのスタイルを設定
      noFill();
      strokeWeight(1);

      // シェイプの描画を開始
      beginShape();

      // 最初の制御点を追加し、そこまでのセグメントを描画
      curveVertex(32, 91);
      curveVertex(32, 91);

      // アンカーポイントを追加
      curveVertex(21, 17);
      curveVertex(68, 19);

      // 2番目の制御点を追加
      curveVertex(84, 91);

      // シェイプの描画を終了
      endShape();

      // アンカーポイントと制御点のスタイルを設定
      strokeWeight(5);

      // アンカーポイントを黒で描画
      stroke(0);
      point(21, 17);
      point(68, 19);

      // 制御点を赤で描画
      stroke(255, 0, 0);
      point(32, 91);
      point(84, 91);

      describe(
        '灰色の背景に描かれた黒い曲線。曲線は1つの赤い点と2つの黒い点を通過する。キャンバスの下部に別の赤い点が表示されている。'
      );
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      background(200);

      // シェイプのスタイルを設定
      noFill();
      strokeWeight(1);

      // シェイプの描画を開始
      beginShape();

      // 最初の制御点を追加し、そこまでのセグメントを描画
      curveVertex(32, 91);
      curveVertex(32, 91);

      // アンカーポイントを追加
      curveVertex(21, 17);
      curveVertex(68, 19);

      // 2番目の制御点を追加し、そこまでのセグメントを描画
      curveVertex(84, 91);
      curveVertex(84, 91);

      // シェイプの描画を終了
      endShape();

      // アンカーポイントと制御点のスタイルを設定
      strokeWeight(5);

      // アンカーポイントを黒で描画
      stroke(0);
      point(21, 17);
      point(68, 19);

      // 制御点を赤で描画
      stroke(255, 0, 0);
      point(32, 91);
      point(84, 91);

      describe(
        '灰色の背景に上下逆さまに描かれた黒いU字型の曲線。曲線は1つの赤い点から始まり、2つの黒い点を通過し、別の赤い点で終わる。'
      );
    }
    </code>
    </div>

    <div>
    <code>
    // 左下隅の赤い点の近くでマウスをクリックし、
    // ドラッグして曲線の形状を変更します。

    let x1 = 32;
    let y1 = 91;
    let isChanging = false;

    function setup() {
      createCanvas(100, 100);

      describe(
        '灰色の背景に上下逆さまに描かれた黒いU字型の曲線。曲線は1つの赤い点から始まり、2つの黒い点を通過し、別の赤い点で終わる。'
      );
    }

    function draw() {
      background(200);

      // シェイプのスタイルを設定
      noFill();
      stroke(0);
      strokeWeight(1);

      // シェイプの描画を開始
      beginShape();

      // 最初の制御点を追加し、そこまでのセグメントを描画
      curveVertex(x1, y1);
      curveVertex(x1, y1);

      // アンカーポイントを追加
      curveVertex(21, 17);
      curveVertex(68, 19);

      // 2番目の制御点を追加し、そこまでのセグメントを描画
      curveVertex(84, 91);
      curveVertex(84, 91);

      // シェイプの描画を終了
      endShape();

      // アンカーポイントと制御点のスタイルを設定
      strokeWeight(5);

      // アンカーポイントを黒で描画
      stroke(0);
      point(21, 17);
      point(68, 19);

      // 制御点を赤で描画
      stroke(255, 0, 0);
      point(x1, y1);
      point(84, 91);
    }

    // ユーザーが最初の制御点の近くでクリックした場合、変更を開始
    function mousePressed() {
      if (dist(mouseX, mouseY, x1, y1) < 20) {
        isChanging = true;
      }
    }

    // ユーザーがマウスを離したとき、変更を停止
    function mouseReleased() {
      isChanging = false;
    }

    // ユーザーがマウスをドラッグしている間、最初の制御点を更新
    function mouseDragged() {
      if (isChanging === true) {
        x1 = mouseX;
        y1 = mouseY;
      }
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      background(200);

      // シェイプの描画を開始
      beginShape();

      // 最初の制御点を追加し、そこまでのセグメントを描画
      curveVertex(32, 91);
      curveVertex(32, 91);

      // アンカーポイントを追加
      curveVertex(21, 17);
      curveVertex(68, 19);

      // 2番目の制御点を追加
      curveVertex(84, 91);
      curveVertex(84, 91);

      // シェイプの描画を終了
      endShape();

      describe('灰色の背景に白で描かれたゴースト形状。');
    }
    </code>
    </div>
class: p5
overloads:
  - line: 832
    params:
      - name: x
        description: |
          <p>頂点のx座標</p>
        type: Number
      - name: 'y'
        description: |
          <p>頂点のy座標</p>
        type: Number
    chainable: 1
  - line: 1160
    params:
      - name: x
        description: ''
        type: Number
      - name: 'y'
        description: ''
        type: Number
      - name: z
        description: |
          <p>頂点のz座標</p>
        type: Number
        optional: true
    chainable: 1
chainable: true
---


# curveVertex
