---
title: keyPressed
module: Events
submodule: Keyboard
file: src/events/keyboard.js
description: >
  <p><a href="#/p5/keyPressed">keyPressed()</a> 関数は、キーが押されるたびに1回呼び出されます。</p>

  <p>押されたキーの keyCode は、<a href="#/p5/keyCode">keyCode</a> 変数に格納されます。</p>

  <p>非 ASCII キーの場合は、keyCode 変数を使用してください。keyCode が
  BACKSPACE、DELETE、ENTER、RETURN、TAB、ESCAPE、SHIFT、CONTROL、OPTION、ALT、UP_ARROW、DOWN_ARROW、LEFT_ARROW、RIGHT_ARROW
  に等しいかどうかを確認できます。</p>

  <p>ASCII キーの場合、押されたキーは key 変数に格納されます。ただし、大文字と小文字は区別されません。このため、変数の大文字と小文字を区別する
  keyTyped() を使用して key 変数を読み取ることが推奨されます。<a href="#/p5/keyTyped">keyTyped()</a>
  を参照してください。</p>

  <p>オペレーティングシステムがキーのリピートを処理する方法のため、キーを押し続けると、<a
  href="#/p5/keyTyped">keyTyped()</a>（および <a
  href="#/p5/keyReleased">keyReleased()</a>
  も）が複数回呼び出される場合があります。リピートの速度は、オペレーティングシステムと各コンピューターの設定によって決まります。ブラウザーは、さまざまなキーイベントに対してデフォルトの動作をもつ場合があります。このイベントのデフォルト動作を防ぐには、「return
  false」をメソッドの最後に追加してください。</p>


  <hr/>

  <p>A function that's called once when any key is pressed.</p>

  <p>Declaring the function <code>keyPressed()</code> sets a code block to run
  once

  automatically when the user presses any key:</p>

  <pre><code class="language-js">function keyPressed() {
    // Code to run.
  }

  </code></pre>

  <p>The <a href="/reference/p5/key/">key</a> and <a
  href="/reference/p5/keyCode/">keyCode</a>

  variables will be updated with the most recently typed value when

  <code>keyPressed()</code> is called by p5.js:</p>

  <pre><code class="language-js">function keyPressed() {
    if (key === 'c') {
      // Code to run.
    }

    if (keyCode === ENTER) {
      // Code to run.
    }
  }

  </code></pre>

  <p>The parameter, <code>event</code>, is optional. <code>keyPressed()</code>
  is always passed a

  <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent"
  target="_blank">KeyboardEvent</a>

  object with properties that describe the key press event:</p>

  <pre><code class="language-js">function keyPressed(event) {
    // Code to run that uses the event.
    console.log(event);
  }

  </code></pre>

  <p>Browsers may have default behaviors attached to various key events. For

  example, some browsers may jump to the bottom of a web page when the

  <code>SPACE</code> key is pressed. To prevent any default behavior for this
  event, add

  <code>return false;</code> to the end of the function.</p>
line: 284
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    // Click on the canvas to begin detecting key presses.

    let value = 0;

    function setup() {
      createCanvas(100, 100);

      describe(
        'A gray square with a black square at its center. The inner square changes color when the user presses a key.'
      );
    }

    function draw() {
      background(200);

      // Style the square.
      fill(value);

      // Draw the square.
      square(25, 25, 50);
    }

    // Toggle the background color when the user presses a key.
    function keyPressed() {
      if (value === 0) {
        value = 255;
      } else {
        value = 0;
      }
      // Uncomment to prevent any default behavior.
      // return false;
    }
    </code>
    </div>

    <div>
    <code>
    // Click on the canvas to begin detecting key presses.

    let value = 0;

    function setup() {
      createCanvas(100, 100);

      describe(
        'A gray square with a white square at its center. The inner square turns black when the user presses the "b" key. It turns white when the user presses the "a" key.'
      );
    }

    function draw() {
      background(200);

      // Style the square.
      fill(value);

      // Draw the square.
      square(25, 25, 50);
    }

    // Reassign value when the user presses the 'a' or 'b' key.
    function keyPressed() {
      if (key === 'a') {
        value = 255;
      } else if (key === 'b') {
        value = 0;
      }
      // Uncomment to prevent any default behavior.
      // return false;
    }
    </code>
    </div>

    <div>
    <code>
    // Click on the canvas to begin detecting key presses.

    let value = 0;

    function setup() {
      createCanvas(100, 100);

      describe(
        'A gray square with a black square at its center. The inner square turns white when the user presses the left arrow key. It turns black when the user presses the right arrow key.'
      );
    }

    function draw() {
      background(200);

      // Style the square.
      fill(value);

      // Draw the square.
      square(25, 25, 50);
    }

    // Toggle the background color when the user presses an arrow key.
    function keyPressed() {
      if (keyCode === LEFT_ARROW) {
        value = 255;
      } else if (keyCode === RIGHT_ARROW) {
        value = 0;
      }
      // Uncomment to prevent any default behavior.
      // return false;
    }
    </code>
    </div>
class: p5
params:
  - name: event
    description: |
      <p>(オプション) オプションの KeyboardEvent コールバック引数。</p>
      <p>optional <code>KeyboardEvent</code> callback argument.</p>
    type: KeyboardEvent
    optional: true
chainable: false
---


# keyPressed
