---
title: filter
module: Image
submodule: Pixels
file: src/image/pixels.js
description: >
  <p>キャンバスに画像フィルターを適用します。</p>

  <p>プリセットのオプションは以下の通りです：</p>

  <p><code>INVERT</code>

  画像の色を反転させます。パラメータは使用しません。</p>

  <p><code>GRAY</code>

  画像をグレースケールに変換します。パラメータは使用しません。</p>

  <p><code>THRESHOLD</code>

  画像を白黒に変換します。指定された閾値よりも高いグレースケール値を持つピクセルは

  白に変換されます。残りは黒に変換されます。閾値は0.0（黒）から1.0（白）の間でなければ

  なりません。値が指定されていない場合、0.5が使用されます。</p>

  <p><code>OPAQUE</code>

  アルファチャンネルを完全に不透明に設定します。パラメータは使用しません。</p>

  <p><code>POSTERIZE</code>

  画像の色数を制限します。各色チャンネルは指定された色数に制限されます。

  2から255の間の値が有効ですが、低い値ほど結果が顕著になります。デフォルト値は4です。</p>

  <p><code>BLUR</code>

  画像をぼかします。ぼかしのレベルはぼかし半径によって指定されます。大きな

  値ほどぼかしが強くなります。デフォルト値は4です。<code>P2D</code>モードではガウシアンブラーが

  使用されます。<code>WEBGL</code>モードではボックスブラーが使用されます。</p>

  <p><code>ERODE</code>

  明るい領域を縮小します。パラメータは使用しません。</p>

  <p><code>DILATE</code>

  明るい領域を拡大します。パラメータは使用しません。</p>

  <p><code>filter()</code>はデフォルトで高速化のためにバックグラウンドでWebGLを使用します。

  これは<code>P2D</code>モードで<code>false</code>引数を追加することで無効にできます。

  例えば<code>filter(BLUR, false)</code>のようにします。これは計算をGPUから離すために

  有用かもしれません。またはWebGLサポートがない場合に対処するためにも使えます。</p>

  <p>WebGLモードでは、<code>filter()</code>はカスタムシェーダーも使用できます。詳細については

  <a href="/reference/p5/createFilterShader/">createFilterShader()</a>を

  参照してください。</p>
line: 442
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    let img;

    // 画像を読み込みます。
    function preload() {
      img = loadImage('/assets/bricks.jpg');
    }

    function setup() {
      createCanvas(100, 100);

      // 画像を表示します。
      image(img, 0, 0);

      // INVERTフィルターを適用します。
      filter(INVERT);

      describe('青いレンガの壁。');
    }
    </code>
    </div>

    <div>
    <code>
    let img;

    // 画像を読み込みます。
    function preload() {
      img = loadImage('/assets/bricks.jpg');
    }

    function setup() {
      createCanvas(100, 100);

      // 画像を表示します。
      image(img, 0, 0);

      // GRAYフィルターを適用します。
      filter(GRAY);

      describe('グレースケールで描かれたレンガの壁。');
    }
    </code>
    </div>

    <div>
    <code>
    let img;

    // 画像を読み込みます。
    function preload() {
      img = loadImage('/assets/bricks.jpg');
    }

    function setup() {
      createCanvas(100, 100);

      // 画像を表示します。
      image(img, 0, 0);

      // THRESHOLDフィルターを適用します。
      filter(THRESHOLD);

      describe('白黒で描かれたレンガの壁。');
    }
    </code>
    </div>

    <div>
    <code>
    let img;

    // 画像を読み込みます。
    function preload() {
      img = loadImage('/assets/bricks.jpg');
    }

    function setup() {
      createCanvas(100, 100);

      // 画像を表示します。
      image(img, 0, 0);

      // OPAQUEフィルターを適用します。
      filter(OPAQUE);

      describe('赤いレンガの壁。');
    }
    </code>
    </div>

    <div>
    <code>
    let img;

    // 画像を読み込みます。
    function preload() {
      img = loadImage('/assets/bricks.jpg');
    }

    function setup() {
      createCanvas(100, 100);

      // 画像を表示します。
      image(img, 0, 0);

      // POSTERIZEフィルターを適用します。
      filter(POSTERIZE, 3);

      describe('限られた色パレットで描かれた赤いレンガの壁の画像。');
    }
    </code>
    </div>

    <div>
    <code>
    let img;

    // 画像を読み込みます。
    function preload() {
      img = loadImage('/assets/bricks.jpg');
    }

    function setup() {
      createCanvas(100, 100);

      // 画像を表示します。
      image(img, 0, 0);

      // BLURフィルターを適用します。
      filter(BLUR, 3);

      describe('ぼやけた赤いレンガの壁の画像。');
    }
    </code>
    </div>

    <div>
    <code>
    let img;

    // 画像を読み込みます。
    function preload() {
      img = loadImage('/assets/bricks.jpg');
    }

    function setup() {
      createCanvas(100, 100);

      // 画像を表示します。
      image(img, 0, 0);

      // DILATEフィルターを適用します。
      filter(DILATE);

      describe('各レンガの間に明るい線がある赤いレンガの壁。');
    }
    </code>
    </div>

    <div>
    <code>
    let img;

    // 画像を読み込みます。
    function preload() {
      img = loadImage('/assets/bricks.jpg');
    }

    function setup() {
      createCanvas(100, 100);

      // 画像を表示します。
      image(img, 0, 0);

      // ERODEフィルターを適用します。
      filter(ERODE);

      describe('各レンガの間に薄い線がある赤いレンガの壁。');
    }
    </code>
    </div>

    <div>
    <code>
    let img;

    // 画像を読み込みます。
    function preload() {
      img = loadImage('/assets/bricks.jpg');
    }

    function setup() {
      createCanvas(100, 100);

      // 画像を表示します。
      image(img, 0, 0);

      // BLURフィルターを適用します。
      // WebGLを使用しません。
      filter(BLUR, 3, false);

      describe('ぼやけた赤いレンガの壁の画像。');
    }
    </code>
    </div>
class: p5
overloads:
  - line: 442
    params:
      - name: filterType
        description: |
          <p>THRESHOLD、GRAY、OPAQUE、INVERT、
                                         POSTERIZE、BLUR、ERODE、DILATEまたはBLURのいずれか。</p>
        type: Constant
      - name: filterParam
        description: |
          <p>各フィルター固有のパラメータ。</p>
        type: Number
        optional: true
      - name: useWebGL
        description: |
          <p>高速なWebGLフィルター（GPU）を使用するか、
                                         オリジナルの画像フィルター（CPU）を使用するかを
                                         制御するフラグ。デフォルトは<code>true</code>。</p>
        type: Boolean
        optional: true
  - line: 715
    params:
      - name: filterType
        description: ''
        type: Constant
      - name: useWebGL
        description: ''
        type: Boolean
        optional: true
  - line: 720
    params:
      - name: shaderFilter
        description: |
          <p>フラグシェーダーで<code>tex0</code>ユニフォームを
                                            使用して読み込まれたシェーダー。</p>
        type: p5.Shader
chainable: false
---


# filter

