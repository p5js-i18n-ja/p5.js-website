---
title: push
module: Structure
submodule: Structure
file: src/core/structure.js
description: "<p><a href=\"#/p5/push\">push()</a> 関数は、現在の描画スタイルの設定と変換を保存し、<a href=\"#/p5/pop\">pop()</a> 関数はこれらの設定を復元します。</p>\n<p>これらの関数は常に一緒に使用されることに注意してください。これにより、スタイルと変換の設定を変更し、後でもとに戻すことができます。<a href=\"#/p5/push\">push()</a> で新しい状態が開始されると、現在のスタイルと変換情報が利用されます。<a href=\"#/p5/push\">push()</a> と <a href=\"#/p5/pop\">pop()</a> 関数は、より多くの制御を提供するために組み込むことができます（2つ目の例を参照してください）。</p>\n<p><a href=\"#/p5/push\">push()</a> は、次の関数によって制御される現在の変換状態とスタイル設定に関連する情報を保存します:<a href=\"#/p5/fill\">fill()</a>、<a href=\"#/p5/noFill\">noFill()</a>、<a href=\"#/p5/noStroke\">noStroke()</a>、<a href=\"#/p5/stroke\">stroke()</a>、<a href=\"#/p5/tint\">tint()</a>、<a href=\"#/p5/noTint\">noTint()</a>、<a href=\"#/p5/strokeWeight\">strokeWeight()</a>、<a href=\"#/p5/strokeCap\">strokeCap()</a>、<a href=\"#/p5/strokeJoin\">strokeJoin()</a>、<a href=\"#/p5/imageMode\">imageMode()</a>、<a href=\"#/p5/rectMode\">rectMode()</a>、<a href=\"#/p5/ellipseMode\">ellipseMode()</a>、<a href=\"#/p5/colorMode\">colorMode()</a>、<a href=\"#/p5/textAlign\">textAlign()</a>、<a href=\"#/p5/textFont\">textFont()</a>、<a href=\"#/p5/textSize\">textSize()</a>、<a href=\"#/p5/textLeading\">textLeading()</a>、<a href=\"#/p5/applyMatrix\">applyMatrix()</a>、<a href=\"#/p5/resetMatrix\">resetMatrix()</a>、<a href=\"#/p5/rotate\">rotate()</a>、<a href=\"#/p5/scale\">scale()</a>、<a href=\"#/p5/shearX\">shearX()</a>、<a href=\"#/p5/shearY\">shearY()</a>、<a href=\"#/p5/translate\">translate()</a>、<a href=\"#/p5/noiseSeed\">noiseSeed()</a>。</p>\n<p>WebGL モードでは、追加のスタイル設定が保存されます。これらは、次の関数によって制御されます:<a href=\"#/p5/setCamera\">setCamera()</a>、<a href=\"#/p5/ambientLight\">ambientLight()</a>、<a href=\"#/p5/directionalLight\">directionalLight()</a>、<a href=\"#/p5/pointLight\">pointLight()</a>、<a href=\"#/p5/texture\">texture()</a>、<a href=\"#/p5/specularMaterial\">specularMaterial()</a>、<a href=\"#/p5/shininess\">shininess()</a>、<a href=\"#/p5/normalMaterial\">normalMaterial()</a>、および <a href=\"#/p5/shader\">shader()</a>。</p>\n\n<hr/>\n<p>Begins a drawing group that contains its own styles and transformations.</p>\n<p>By default, styles such as <a href=\"/reference/p5/fill\">fill()</a> and\ntransformations such as <a href=\"/reference/p5/rotate\">rotate()</a> are applied to\nall drawing that follows. The <code>push()</code> and <a href=\"/reference/p5/pop\">pop()</a>\nfunctions can limit the effect of styles and transformations to a specific\ngroup of shapes, images, and text. For example, a group of shapes could be\ntranslated to follow the mouse without affecting the rest of the sketch:</p>\n<pre><code class=\"language-js\">// Begin the drawing group.\npush();\n\n// Translate the origin to the mouse's position.\ntranslate(mouseX, mouseY);\n\n// Style the face.\nnoStroke();\nfill('green');\n\n// Draw the face.\ncircle(0, 0, 60);\n\n// Style the eyes.\nfill('white');\n\n// Draw the left eye.\nellipse(-20, -20, 30, 20);\n\n// Draw the right eye.\nellipse(20, -20, 30, 20);\n\n// End the drawing group.\npop();\n\n// Draw a bug.\nlet x = random(0, 100);\nlet y = random(0, 100);\ntext('\U0001F99F', x, y);\n</code></pre>\n<p>In the code snippet above, the bug's position isn't affected by\n<code>translate(mouseX, mouseY)</code> because that transformation is contained\nbetween <code>push()</code> and <a href=\"/reference/p5/pop\">pop()</a>. The bug moves around\nthe entire canvas as expected.</p>\n<p>Note: <code>push()</code> and <a href=\"/reference/p5/pop\">pop()</a> are always called as a\npair. Both functions are required to begin and end a drawing group.</p>\n<p><code>push()</code> and <a href=\"/reference/p5/pop\">pop()</a> can also be nested to create\nsubgroups. For example, the code snippet above could be changed to give\nmore detail to the frog’s eyes:</p>\n<pre><code class=\"language-js\">// Begin the drawing group.\npush();\n\n// Translate the origin to the mouse's position.\ntranslate(mouseX, mouseY);\n\n// Style the face.\nnoStroke();\nfill('green');\n\n// Draw a face.\ncircle(0, 0, 60);\n\n// Style the eyes.\nfill('white');\n\n// Draw the left eye.\npush();\ntranslate(-20, -20);\nellipse(0, 0, 30, 20);\nfill('black');\ncircle(0, 0, 8);\npop();\n\n// Draw the right eye.\npush();\ntranslate(20, -20);\nellipse(0, 0, 30, 20);\nfill('black');\ncircle(0, 0, 8);\npop();\n\n// End the drawing group.\npop();\n\n// Draw a bug.\nlet x = random(0, 100);\nlet y = random(0, 100);\ntext('\U0001F99F', x, y);\n</code></pre>\n<p>In this version, the code to draw each eye is contained between its own\n<code>push()</code> and <a href=\"/reference/p5/pop\">pop()</a> functions. Doing so makes it\neasier to add details in the correct part of a drawing.</p>\n<p><code>push()</code> and <a href=\"/reference/p5/pop\">pop()</a> contain the effects of the\nfollowing functions:</p>\n<ul>\n<li><a href=\"/reference/p5/fill\">fill()</a></li>\n<li><a href=\"/reference/p5/noFill\">noFill()</a></li>\n<li><a href=\"/reference/p5/noStroke\">noStroke()</a></li>\n<li><a href=\"/reference/p5/stroke\">stroke()</a></li>\n<li><a href=\"/reference/p5/tint\">tint()</a></li>\n<li><a href=\"/reference/p5/noTint\">noTint()</a></li>\n<li><a href=\"/reference/p5/strokeWeight\">strokeWeight()</a></li>\n<li><a href=\"/reference/p5/strokeCap\">strokeCap()</a></li>\n<li><a href=\"/reference/p5/strokeJoin\">strokeJoin()</a></li>\n<li><a href=\"/reference/p5/imageMode\">imageMode()</a></li>\n<li><a href=\"/reference/p5/rectMode\">rectMode()</a></li>\n<li><a href=\"/reference/p5/ellipseMode\">ellipseMode()</a></li>\n<li><a href=\"/reference/p5/colorMode\">colorMode()</a></li>\n<li><a href=\"/reference/p5/textAlign\">textAlign()</a></li>\n<li><a href=\"/reference/p5/textFont\">textFont()</a></li>\n<li><a href=\"/reference/p5/textSize\">textSize()</a></li>\n<li><a href=\"/reference/p5/textLeading\">textLeading()</a></li>\n<li><a href=\"/reference/p5/applyMatrix\">applyMatrix()</a></li>\n<li><a href=\"/reference/p5/resetMatrix\">resetMatrix()</a></li>\n<li><a href=\"/reference/p5/rotate\">rotate()</a></li>\n<li><a href=\"/reference/p5/scale\">scale()</a></li>\n<li><a href=\"/reference/p5/shearX\">shearX()</a></li>\n<li><a href=\"/reference/p5/shearY\">shearY()</a></li>\n<li><a href=\"/reference/p5/translate\">translate()</a></li>\n</ul>\n<p>In WebGL mode, <code>push()</code> and <a href=\"/reference/p5/pop\">pop()</a> contain the\neffects of a few additional styles:</p>\n<ul>\n<li><a href=\"/reference/p5/setCamera\">setCamera()</a></li>\n<li><a href=\"/reference/p5/ambientLight\">ambientLight()</a></li>\n<li><a href=\"/reference/p5/directionalLight\">directionalLight()</a></li>\n<li><a href=\"/reference/p5/pointLight\">pointLight()</a> <a href=\"/reference/p5/texture\">texture()</a></li>\n<li><a href=\"/reference/p5/specularMaterial\">specularMaterial()</a></li>\n<li><a href=\"/reference/p5/shininess\">shininess()</a></li>\n<li><a href=\"/reference/p5/normalMaterial\">normalMaterial()</a></li>\n<li><a href=\"/reference/p5/shader\">shader()</a></li>\n</ul>\n"
line: 269
isConstructor: false
itemtype: method
example:
  - "\n<div>\n<code>\nfunction setup() {\n  createCanvas(100, 100);\n\n  background(200);\n\n  // Draw the left circle.\n  circle(25, 50, 20);\n\n  // Begin the drawing group.\n  push();\n\n  // Translate the origin to the center.\n  translate(50, 50);\n\n  // Style the circle.\n  strokeWeight(5);\n  stroke('royalblue');\n  fill('orange');\n\n  // Draw the circle.\n  circle(0, 0, 20);\n\n  // End the drawing group.\n  pop();\n\n  // Draw the right circle.\n  circle(75, 50, 20);\n\n  describe(\n    'Three circles drawn in a row on a gray background. The left and right circles are white with thin, black borders. The middle circle is orange with a thick, blue border.'\n  );\n}\n</code>\n</div>\n\n<div>\n<code>\nfunction setup() {\n  createCanvas(100, 100);\n\n  // Slow the frame rate.\n  frameRate(24);\n\n  describe('A mosquito buzzes in front of a green frog. The frog follows the mouse as the user moves.');\n}\n\nfunction draw() {\n  background(200);\n\n  // Begin the drawing group.\n  push();\n\n  // Translate the origin to the mouse's position.\n  translate(mouseX, mouseY);\n\n  // Style the face.\n  noStroke();\n  fill('green');\n\n  // Draw a face.\n  circle(0, 0, 60);\n\n  // Style the eyes.\n  fill('white');\n\n  // Draw the left eye.\n  push();\n  translate(-20, -20);\n  ellipse(0, 0, 30, 20);\n  fill('black');\n  circle(0, 0, 8);\n  pop();\n\n  // Draw the right eye.\n  push();\n  translate(20, -20);\n  ellipse(0, 0, 30, 20);\n  fill('black');\n  circle(0, 0, 8);\n  pop();\n\n  // End the drawing group.\n  pop();\n\n  // Draw a bug.\n  let x = random(0, 100);\n  let y = random(0, 100);\n  text('\U0001F99F', x, y);\n}\n</code>\n</div>\n\n<div>\n<code>\n// Click and drag the mouse to view the scene from different angles.\n\nfunction setup() {\n  createCanvas(100, 100, WEBGL);\n\n  describe(\n    'Two spheres drawn on a gray background. The sphere on the left is red and lit from the front. The sphere on the right is a blue wireframe.'\n  );\n}\n\nfunction draw() {\n  background(200);\n\n  // Enable orbiting with the mouse.\n  orbitControl();\n\n  // Draw the red sphere.\n  push();\n  translate(-25, 0, 0);\n  noStroke();\n  directionalLight(255, 0, 0, 0, 0, -1);\n  sphere(20);\n  pop();\n\n  // Draw the blue sphere.\n  push();\n  translate(25, 0, 0);\n  strokeWeight(0.3);\n  stroke(0, 0, 255);\n  noFill();\n  sphere(20);\n  pop();\n}\n</code>\n</div>"
class: p5
chainable: false
---


# push
