---
title: p5.MediaElement
module: DOM
submodule: DOM
file: src/dom/dom.js
description: >
  <p>オーディオとビデオを扱うためのクラスです。</p>

  <p><code>p5.MediaElement</code>は<a
  href="/reference/p5/p5.Element">p5.Element</a>を拡張し、

  オーディオとビデオを扱うためのメソッドを提供します。<code>p5.MediaElement</code>オブジェクトは

  <a href="/reference/p5/createVideo/">createVideo</a>、

  <a href="/reference/p5/createAudio/">createAudio</a>、

  <a href="/reference/p5/createCapture/">createCapture</a>を呼び出すことで作成されます。</p>
line: 4081
isConstructor: true
params:
  - name: elt
    description: |
      <p>ラップされるDOMノード</p>
    type: String
example:
  - |-

    <div class='notest'>
    <code>
    let capture;

    function setup() {
      createCanvas(100, 100);

      // createCapture()を使用してp5.MediaElementを作成します。
      capture = createCapture(VIDEO);
      capture.hide();

      describe('色が反転したウェブカメラのフィード。');
    }

    function draw() {
      // ビデオストリームを表示し、色を反転させます。
      image(capture, 0, 0, width, width * capture.height / capture.width);
      filter(INVERT);
    }
    </code>
    </div>
methods:
  play:
    description: |
      <p>メディア要素からオーディオまたはビデオを再生します。</p>
    path: p5.MediaElement/play
  stop:
    description: >
      <p>メディア要素を停止し、その現在の時間を0に設定します。</p>

      <p><code>media.play()</code>を呼び出すと、オーディオ/ビデオの再生が最初から再開されます。</p>
    path: p5.MediaElement/stop
  pause:
    description: >
      <p>メディア要素を一時停止します。</p>

      <p><code>media.play()</code>を呼び出すと、一時停止した瞬間からオーディオ/ビデオの再生が再開されます。</p>
    path: p5.MediaElement/pause
  loop:
    description: |
      <p>オーディオ/ビデオをループで繰り返し再生します。</p>
    path: p5.MediaElement/loop
  noLoop:
    description: |
      <p>オーディオ/ビデオのループ再生を停止します。</p>
      <p>メディアは再生が終了すると停止します。</p>
    path: p5.MediaElement/noLoop
  autoplay:
    description: >
      <p>オーディオ/ビデオが読み込まれたら自動再生するように設定します。</p>

      <p>パラメータ<code>shouldAutoplay</code>はオプションです。引数なしで

      <code>media.autoplay()</code>を呼び出すと、メディアは自動的に再生されます。

      <code>media.autoplay(true)</code>のように<code>true</code>を渡すと、

      メディアは自動的に再生されます。<code>media.autoPlay(false)</code>のように

      <code>false</code>を渡すと、自動再生されません。</p>
    path: p5.MediaElement/autoplay
  volume:
    description: >
      <p>オーディオ/ビデオの音量を設定します。</p>

      <p>引数なしで<code>media.volume()</code>を呼び出すと、現在の音量を

      0（オフ）から1（最大）の範囲の数値として返します。</p>

      <p>パラメータ<code>val</code>はオプションです。0（オフ）から1（最大）の範囲の

      数値で音量を設定します。例えば、<code>media.volume(0.5)</code>を呼び出すと、

      音量が最大の半分に設定されます。</p>
    path: p5.MediaElement/volume
  speed:
    description: >
      <p>オーディオ/ビデオの再生速度を設定します。</p>

      <p>パラメータ<code>val</code>はオプションです。再生速度を設定する数値です。

      1は通常速度で再生、0.5は半分の速度、2は2倍の速度で再生します。

      -1は通常速度で逆再生します。</p>

      <p><code>media.speed()</code>を呼び出すと、現在の速度を数値として返します。</p>

      <p>注意：すべてのブラウザが逆再生をサポートしているわけではありません。

      サポートしていても、再生がスムーズでない場合があります。</p>
    path: p5.MediaElement/speed
  time:
    description: >
      <p>メディア要素の再生時間を設定します。</p>

      <p>パラメータ<code>time</code>はオプションです。再生開始時にジャンプする

      時間を秒単位で指定する数値です。</p>

      <p>引数なしで<code>media.time()</code>を呼び出すと、オーディオ/ビデオが

      再生された秒数を返します。</p>

      <p>注意：ループするメディアが再開すると、時間は0にリセットされます。</p>
    path: p5.MediaElement/time
  duration:
    description: |
      <p>オーディオ/ビデオの長さを秒単位で返します。</p>
    path: p5.MediaElement/duration
  onended:
    description: >
      <p>オーディオ/ビデオの再生が終了したときに呼び出される関数を設定します。</p>

      <p>要素がコールバック関数の引数として渡されます。</p>

      <p>注意：メディアがループしている場合、この関数は呼び出されません。</p>
    path: p5.MediaElement/onended
  connect:
    description: >
      <p>要素のオーディオを出力に送ります。</p>

      <p>パラメータ<code>audioNode</code>は、<code>AudioNode</code>または

      <code>p5.sound</code>ライブラリのオブジェクトを指定できます。</p>

      <p><code>myElement.connect()</code>のように要素が提供されない場合、

      要素はメイン出力に接続されます。すべての接続は

      <code>.disconnect()</code>メソッドで解除されます。</p>

      <p>注意：このメソッドはp5.sound.jsアドオンライブラリと一緒に使用することを想定しています。</p>
    path: p5.MediaElement/connect
  disconnect:
    description: >
      <p>メイン出力を含むすべてのWeb Audioルーティングを切断します。</p>

      <p>これは、例えばオーディオエフェクトを通して出力を再ルーティングしたい場合に

      便利です。</p>
    path: p5.MediaElement/disconnect
  showControls:
    description: >
      <p>デフォルトの

      <a
      href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/"
      target="_blank">HTMLMediaElement</a>

      コントロールを表示します。</p>

      <p>注意：コントロールはWebブラウザによって異なります。</p>
    path: p5.MediaElement/showControls
  hideControls:
    description: >
      <p>デフォルトの

      <a
      href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/"
      target="_blank">HTMLMediaElement</a>

      コントロールを非表示にします。</p>
    path: p5.MediaElement/hideControls
  addCue:
    description: >
      <p>オーディオ/ビデオの再生中に特定の時間に関数を呼び出すようにスケジュールします。</p>

      <p>最初のパラメータ<code>time</code>は、関数を実行する時間を秒単位で指定します。

      この値は<code>callback</code>の最初の引数として渡されます。</p>

      <p>2番目のパラメータ<code>callback</code>は、指定されたキュー時間に呼び出す関数です。</p>

      <p>3番目のパラメータ<code>value</code>はオプションで、任意の型の値を指定できます。

      <code>value</code>は<code>callback</code>に渡されます。</p>

      <p><code>media.addCue()</code>を呼び出すと、文字列としてIDが返されます。これは

      後でキューを削除する際に便利です。</p>
    path: p5.MediaElement/addCue
  removeCue:
    description: |
      <p>IDに基づいてコールバックを削除します。</p>
    path: p5.MediaElement/removeCue
  clearCues:
    description: |
      <p><code>media.addCue()</code>でスケジュールされたすべての関数を削除します。</p>
    path: p5.MediaElement/clearCues
properties:
  src:
    description: |
      <p>メディア要素のソースへのパスを文字列として表します。</p>
    path: p5.MediaElement/src
chainable: false
---


# p5.MediaElement

