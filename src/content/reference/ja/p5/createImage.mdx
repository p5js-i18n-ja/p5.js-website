---
title: createImage
module: Image
submodule: Image
file: src/image/image.js
description: >
  <p>新しい<a href="/reference/p5/p5.Image">p5.Image</a>オブジェクトを作成します。</p>

  <p><code>createImage()</code>は<code>width</code>と<code>height</code>パラメータを使用して、
  新しい<a href="/reference/p5/p5.Image">p5.Image</a>オブジェクトの寸法をピクセル単位で設定します。
  新しい<a href="/reference/p5/p5.Image">p5.Image</a>は、その
  <a href="/reference/p5.Image/pixels/">pixels</a>配列を更新するか、
  <a href="/reference/p5.Image/get/">get()</a>メソッドと
  <a href="/reference/p5.Image/set/">set()</a>メソッドを呼び出すことで変更できます。
  ピクセル値を読み取ったり変更したりする前に、
  <a href="/reference/p5.Image/loadPixels/">loadPixels()</a>メソッドを呼び出す必要があります。
  更新を反映させるには、
  <a href="/reference/p5.Image/updatePixels/">updatePixels()</a>メソッドを呼び出す必要があります。</p>

  <p>注意：新しい<a href="/reference/p5/p5.Image">p5.Image</a>オブジェクトは
  デフォルトで透明です。</p>
line: 15
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      background(200);

      // p5.Imageオブジェクトを作成します。
      let img = createImage(66, 66);

      // 画像のピクセルをメモリにロードします。
      img.loadPixels();

      // 画像のすべてのピクセルを黒に設定します。
      for (let x = 0; x < img.width; x += 1) {
        for (let y = 0; y < img.height; y += 1) {
          img.set(x, y, 0);
        }
      }

      // 画像のピクセル値を更新します。
      img.updatePixels();

      // 画像を描画します。
      image(img, 17, 17);

      describe('灰色の正方形の中央に描かれた黒い正方形。');
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      background(200);

      // p5.Imageオブジェクトを作成します。
      let img = createImage(66, 66);

      // 画像のピクセルをメモリにロードします。
      img.loadPixels();

      // カラーグラデーションを作成します。
      for (let x = 0; x < img.width; x += 1) {
        for (let y = 0; y < img.height; y += 1) {
          // 透明度を計算します。
          let a = map(x, 0, img.width, 0, 255);

          // p5.Colorオブジェクトを作成します。
          let c = color(0, a);

          // ピクセルの色を設定します。
          img.set(x, y, c);
        }
      }

      // 画像のピクセルを更新します。
      img.updatePixels();

      // 画像を表示します。
      image(img, 17, 17);

      describe('灰色から黒へと移行する水平方向のカラーグラデーションを持つ正方形。');
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      background(200);

      // p5.Imageオブジェクトを作成します。
      let img = createImage(66, 66);

      // ピクセルをメモリにロードします。
      img.loadPixels();
      // 現在のピクセル密度を取得します。
      let d = pixelDensity();

      // 画像のピクセル配列の半分を通過するピクセルを計算します。
      let halfImage = 4 * (d * img.width) * (d * img.height / 2);

      // 画像のピクセルの半分を黒に設定します。
      for (let i = 0; i < halfImage; i += 4) {
        // 赤。
        img.pixels[i] = 0;
        // 緑。
        img.pixels[i + 1] = 0;
        // 青。
        img.pixels[i + 2] = 0;
        // アルファ。
        img.pixels[i + 3] = 255;
      }

      // 画像のピクセルを更新します。
      img.updatePixels();

      // 画像を表示します。
      image(img, 17, 17);

      describe('灰色の正方形の中央に描かれた黒い正方形。');
    }
    </code>
    </div>
class: p5
params:
  - name: width
    description: |
      <p>ピクセル単位の幅。</p>
    type: Integer
  - name: height
    description: |
      <p>ピクセル単位の高さ。</p>
    type: Integer
return:
  description: 新しい<a href="#/p5.Image">p5.Image</a>オブジェクト。
  type: p5.Image
chainable: false
---


# createImage