---
title: loadStrings
module: IO
submodule: Input
file: src/io/files.js
description: >-
  <p>ファイルの内容を読み取り、その個々の行のString配列を作成します。</p>

  <p>上記の例のように、ファイル名がパラメーターとして使用される場合、ファイルはスケッチディレクトリ/フォルダに配置されている必要があります。</p>

  <p>あるいは、ファイルは絶対パス（UnixやLinuxでは/から始まり、Windowsではドライブ文字から始まるもの）を使用してローカルコンピュータからどこでもロードできるか、またはファイル名パラメーターはネットワーク上にあるファイルのURLにすることができます。</p>

  <p>この方法は非同期であり、スケッチの次の行が実行される前に終了しない可能性があります。</p>

  <p>この方法は、64MBまでのファイルを取得するのに適しています。</p>


  <hr/>

  <p>Loads a text file to create an <code>Array</code>.</p>

  <p>The first parameter, <code>path</code>, is always a string with the path to
  the file.

  Paths to local files should be relative, as in

  <code>loadStrings('/assets/data.txt')</code>. URLs such as

  <code>'https://example.com/data.txt'</code> may be blocked due to browser
  security.</p>

  <p>The second parameter, <code>successCallback</code>, is optional. If a
  function is

  passed, as in <code>loadStrings('/assets/data.txt', handleData)</code>, then
  the

  <code>handleData()</code> function will be called once the data loads. The
  array

  created from the text data will be passed to <code>handleData()</code> as its
  only

  argument.</p>

  <p>The third parameter, <code>failureCallback</code>, is also optional. If a
  function is

  passed, as in <code>loadStrings('/assets/data.txt', handleData,
  handleFailure)</code>,

  then the <code>handleFailure()</code> function will be called if an error
  occurs while

  loading. The <code>Error</code> object will be passed to
  <code>handleFailure()</code> as its only

  argument.</p>

  <p>Note: Data can take time to load. Calling <code>loadStrings()</code> within

  <a href="/reference/p5/preload">preload()</a> ensures data loads before it's
  used in

  <a href="/reference/p5/setup">setup()</a> or <a
  href="/reference/p5/draw">draw()</a>.</p>


  <pre>

  todo: param path not found in ja-legacy:

  {
      "filename": "String: ロードするファイル名または URL",
      "callback": "Function: (オプション) <a href=\"#/p5/loadStrings\">loadStrings()</a> 完了後に実行される関数。配列が最初の引数として渡されます。",
      "errorCallback": "Function: (オプション) エラーがあった場合に実行される関数。レスポンスが最初の引数として渡されます。"
  }

  </pre>

  <pre>

  todo: param successCallback not found in ja-legacy:

  {
      "filename": "String: ロードするファイル名または URL",
      "callback": "Function: (オプション) <a href=\"#/p5/loadStrings\">loadStrings()</a> 完了後に実行される関数。配列が最初の引数として渡されます。",
      "errorCallback": "Function: (オプション) エラーがあった場合に実行される関数。レスポンスが最初の引数として渡されます。"
  }

  </pre>
line: 309
isConstructor: false
itemtype: method
example:
  - |-


    <div>
    <code>
    let myData;

    // Load the text and create an array.
    function preload() {
      myData = loadStrings('/assets/test.txt');
    }

    function setup() {
      createCanvas(100, 100);

      background(200);

      // Select a random line from the text.
      let phrase = random(myData);

      // Style the text.
      textAlign(LEFT, CENTER);
      textFont('Courier New');
      textSize(12);

      // Display the text.
      text(phrase, 10, 50, 90);

      describe(`The text "${phrase}" written in black on a gray background.`);
    }
    </code>
    </div>

    <div>
    <code>
    let lastLine;

    // Load the text and preprocess it.
    function preload() {
      loadStrings('/assets/test.txt', handleData);
    }

    function setup() {
      createCanvas(100, 100);

      background(200);

      // Style the text.
      textAlign(LEFT, CENTER);
      textFont('Courier New');
      textSize(12);

      // Display the text.
      text(lastLine, 10, 50, 90);

      describe('The text "I talk like an orange" written in black on a gray background.');
    }

    // Select the last line from the text.
    function handleData(data) {
      lastLine = data[data.length - 1];
    }
    </code>
    </div>

    <div>
    <code>
    let lastLine;

    // Load the text and preprocess it.
    function preload() {
      loadStrings('/assets/test.txt', handleData, handleError);
    }

    function setup() {
      createCanvas(100, 100);

      background(200);

      // Style the text.
      textAlign(LEFT, CENTER);
      textFont('Courier New');
      textSize(12);

      // Display the text.
      text(lastLine, 10, 50, 90);

      describe('The text "I talk like an orange" written in black on a gray background.');
    }

    // Select the last line from the text.
    function handleData(data) {
      lastLine = data[data.length - 1];
    }

    // Log any errors to the console.
    function handleError(error) {
      console.error('Oops!', error);
    }
    </code>
    </div>
class: p5
params:
  - name: path
    description: |
      <p>path of the text file to be loaded.</p>
    type: String
  - name: successCallback
    description: |
      <p>function to call once the data is
                                           loaded. Will be passed the array.</p>
    type: Function
    optional: true
  - name: errorCallback
    description: |
      <p>(オプション) エラーがあった場合に実行される関数。レスポンスが最初の引数として渡されます。</p>
      <p>function to call if the data fails to
                                         load. Will be passed an <code>Error</code> event
                                         object.</p>
    type: Function
    optional: true
return:
  description: |-
    文字列の配列
    new array containing the loaded text.
  type: 'String[]'
chainable: false
---


# loadStrings
